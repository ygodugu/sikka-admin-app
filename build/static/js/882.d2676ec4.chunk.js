"use strict";(self.webpackChunksikka_admin_app=self.webpackChunksikka_admin_app||[]).push([[882],{2806:function(e,n,a){a.d(n,{b:function(){return s}});var s=a(1243).Z.create({baseURL:"https://app.cikka.com.au/api"});s.interceptors.request.use((function(e){var n=localStorage.getItem("token");return n&&(e.headers.Authorization="Bearer "+n),e}),(function(e){return Promise.reject(e)})),s.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)}))},7883:function(e,n,a){a.d(n,{$:function(){return r}});var s=a(3637),t=a(184),r=function(e){var n=e.page,a=e.pageSize,r=e.data,i=e.setPage;return(0,t.jsxs)("div",{className:"row pagin-sec",children:[(0,t.jsx)("div",{className:"col-sm-12 col-md-5",children:(0,t.jsx)("div",{className:"dataTables_info",role:"status","aria-live":"polite",children:"Showing ".concat(n*a+1," to  ").concat(n*a+r.data.length," of ").concat(r.count," entries")})}),(0,t.jsx)("div",{className:"col-sm-12 col-md-7",style:{display:"flex",justifyContent:"flex-end"},children:(0,t.jsx)(s.Z,{itemClass:"page-item",prevPageText:"Previous",nextPageText:"Next",linkClass:"page-link",activePage:n+1,itemsCountPerPage:a,totalItemsCount:r.count,pageRangeDisplayed:5,hideFirstLastPages:!0,onChange:function(e){return i(e-1)}})})]})}},1629:function(e,n,a){a.d(n,{o:function(){return t}});var s=a(184),t=function(e){var n=e.dateTime,a=new Date(n).toLocaleString("en-GB",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0});return(0,s.jsx)("span",{children:a})}},2805:function(e,n,a){a.d(n,{d:function(){return r}});a(2791);var s=a.p+"static/media/edit-icon.99f293607452e6df8a5fe12a6b47b2b0.svg",t=a(184),r=function(e){var n=e.onClick;return(0,t.jsx)("img",{style:{cursor:"pointer"},src:s,onClick:n})}},9324:function(e,n,a){a.d(n,{q:function(){return t}});var s=a(184),t=function(e){return null===e.code?(0,s.jsx)("span",{className:"badge badge-pill badge-warning",children:"Null"}):0===e.code?(0,s.jsx)("span",{className:"badge badge-pill badge-danger",children:"Deleted"}):1===e.code?(0,s.jsx)("span",{className:"badge badge-pill badge-success",children:"Active"}):2===e.code?(0,s.jsx)("span",{className:"badge badge-pill badge-warning",children:"Hold"}):void 0}},9882:function(e,n,a){a.r(n),a.d(n,{Countries:function(){return k}});var s=a(9439),t=a(2791),r=a(6403),i=a(2917),l=a(2805),c=a(2806),d=a(7883),o=a(1629),u=a(9324),h=a(3418),m=a(9930),x=a(5705),j=a(8007),f=a(184),v=(0,j.Ry)({name:(0,j.Z_)().required("Name is required"),countryCode:(0,j.Z_)().required("countryCode is required")}),p=function(e){var n=e.initialValues,a=e.handleSubmit,s=e.isAdd,t=void 0!==s&&s,r=(0,x.TA)({initialValues:n,onSubmit:a,validationSchema:v});return(0,f.jsxs)("form",{onSubmit:r.handleSubmit,children:[(0,f.jsxs)("div",{className:"row",children:[(0,f.jsx)("aside",{className:"col-md-6",children:(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{for:"name",children:"Name *"}),(0,f.jsx)("input",{type:"text",id:"name",value:r.values.name,onChange:r.handleChange,onBlur:r.handleBlur,className:"form-control form-control-lg",placeholder:"Enter Name"}),(0,f.jsx)("div",{className:"invalid-feedback",children:r.errors.name})]})}),(0,f.jsx)("aside",{className:"col-md-6",children:(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{for:"countryCode",children:"CountryCode *"}),(0,f.jsx)("input",{type:"text",id:"countryCode",value:r.values.countryCode,onChange:r.handleChange,onBlur:r.handleBlur,className:"form-control form-control-lg",placeholder:"Enter CountryCode"}),(0,f.jsx)("div",{className:"invalid-feedback",children:r.errors.countryCode})]})}),t?null:(0,f.jsx)("aside",{className:"col-md-6",children:(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{htmlFor:"status",children:"status"}),(0,f.jsxs)("select",{id:"status",className:"form-control select2",onChange:r.handleChange,value:r.values.status,children:[(0,f.jsx)("option",{value:"1",children:"Active"}),(0,f.jsx)("option",{value:"2",children:"Hold"}),(0,f.jsx)("option",{value:"0",children:"Deleted"})]})]})}),(0,f.jsx)("aside",{className:"col-md-12",children:(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{for:"description",children:"description"}),(0,f.jsx)("input",{type:"text",id:"description",value:r.values.description,onChange:r.handleChange,onBlur:r.handleBlur,className:"form-control form-control-lg",placeholder:"Enter description"})]})})]}),(0,f.jsx)("div",{className:"modal-footer d-flex justify-content-end",children:(0,f.jsx)("button",{type:"submit",className:"btn mb-2 btn-primary",children:"Save"})})]})},g=function(e){return c.b.post("/countries",e)},b=function(e){var n=e.handleSuccess,a=e.handleClose,s=(0,h.D)({mutationFn:g});return(0,f.jsxs)(m.Z,{show:!0,onHide:a,size:"lg",children:[(0,f.jsxs)(m.Z.Header,{closeButton:!1,children:[(0,f.jsx)(m.Z.Title,{children:"New Country"}),(0,f.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:a,children:(0,f.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),(0,f.jsx)(m.Z.Body,{children:(0,f.jsx)(p,{initialValues:{name:"",description:"",countryCode:"",status:""},isAdd:!0,handleSubmit:function(e){s.mutate(e,{onSuccess:n})}})})]})},N=a(1413),C=function(e){return c.b.put("/countries/".concat(e.id),e)},y=function(e){var n=e.handleSuccess,a=e.handleClose,s=e.id,t=(0,i.a)({queryKey:["ountries-details",s],queryFn:function(){return function(e){return c.b.get("/countries/".concat(e)).then((function(e){return e.data}))}(s)}}),r=t.data,l=(0,h.D)({mutationFn:C});return(0,f.jsx)(f.Fragment,{children:r&&(0,f.jsxs)(m.Z,{show:!0,onHide:a,size:"lg",children:[(0,f.jsxs)(m.Z.Header,{closeButton:!1,children:[(0,f.jsx)(m.Z.Title,{children:"Edit Country"}),(0,f.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:a,children:(0,f.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),(0,f.jsx)(m.Z.Body,{children:(0,f.jsx)(p,{initialValues:r,handleSubmit:function(e){l.mutate((0,N.Z)((0,N.Z)({},e),{},{id:s}),{onSuccess:n})}})})]})})},S=a(18),Z=a(4849),k=function(){var e,n=(0,r.NL)(),a=(0,t.useState)(0),h=(0,s.Z)(a,2),m=h[0],x=h[1],j=(0,t.useState)(!1),v=(0,s.Z)(j,2),p=v[0],g=v[1],N=(0,t.useState)(!1),C=(0,s.Z)(N,2),k=C[0],w=C[1],A=(0,t.useState)(),B=(0,s.Z)(A,2),P=B[0],D=B[1],E=(0,t.useState)(""),q=(0,s.Z)(E,2),H=q[0],L=q[1],T=(0,t.useState)(""),F=(0,s.Z)(T,2),z=F[0],_=F[1],I=(0,t.useState)(""),R=(0,s.Z)(I,2),V=R[0],O=R[1],U=(0,t.useState)(""),K=(0,s.Z)(U,2),$=K[0],G=K[1],Q=(0,t.useState)(!1),J=(0,s.Z)(Q,2),M=J[0],W=(J[1],(0,i.a)({queryKey:["users",m,H,z,V,$],queryFn:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,a=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,t=arguments.length>4?arguments[4]:void 0,r=arguments.length>5?arguments[5]:void 0;return c.b.get("/countries?pageIndex=".concat(e,"&pageSize=").concat(n,"&search=").concat(a,"&sortBy=").concat(s,"&sortOrder=").concat(t,"&status=").concat(r)).then((function(e){return e.data}))}(m,20,H,z,V,$)},keepPreviousData:!0})),X=W.isLoading,Y=W.data,ee=W.refetch,ne=(0,t.useState)([]),ae=(0,s.Z)(ne,2),se=ae[0],te=ae[1];return(0,t.useEffect)((function(){c.b.get("/users?pageIndex=0&pageSize=1400").then((function(e){return e.data})).then((function(e){te(e),console.log(e)})).catch((function(e){console.error("Error fetching categories:",e)}))}),[]),(0,f.jsxs)(f.Fragment,{children:[M?(0,f.jsxs)(S.Z,{variant:"danger",onClose:function(){return M(!1)},children:[(0,f.jsx)(S.Z.Heading,{children:"Server Error!"}),(0,f.jsx)("p",{children:"Can not user"})]}):null,(0,f.jsx)("div",{className:"row justify-content-center",children:(0,f.jsxs)("div",{className:"col-12",children:[(0,f.jsxs)("div",{className:"row heading-add",children:[(0,f.jsx)("aside",{className:"ml-2 mr-2",children:(0,f.jsx)("h2",{className:"mb-0 page-title",children:"Countries"})}),(0,f.jsx)("form",{className:"form-inline  mr-auto searchform",children:(0,f.jsx)("input",{className:"form-control mr-sm-2 border-0",onChange:function(e){var n=e.target.value;L(n),ee()},type:"text",style:{background:"white"},placeholder:"Search","aria-label":"Search"})}),(0,f.jsx)("aside",{className:"col-sm-2 add-sec",children:(0,f.jsx)("button",{className:"bttn",onClick:function(){return g(!0)},children:"Add"})})]}),(0,f.jsxs)("div",{className:"d-flex flex-wrap",children:[(0,f.jsx)("aside",{className:"col-md-4 mt-2 mt-md-0 mb-2 mb-md-0",children:(0,f.jsxs)("select",{className:"form-control",onChange:function(e){var n=e.target.value;_(n),console.log(n),ee()},style:{background:"white"},"aria-label":"select",children:[(0,f.jsx)("option",{value:"",children:"sortBy"}),(0,f.jsx)("option",{value:"id",children:"ID"})]})}),(0,f.jsx)("aside",{className:"col-md-4 mt-2 mt-md-0 mb-2 mb-md-0",children:(0,f.jsxs)("select",{className:"form-control",onChange:function(e){var n=e.target.value;O(n),console.log(n),ee()},style:{background:"white"},"aria-label":"select",children:[(0,f.jsx)("option",{value:"",children:"sortOrder"}),(0,f.jsx)("option",{value:"ASC",children:"ASC"}),(0,f.jsx)("option",{value:"DESC",children:"DESC"})]})}),(0,f.jsx)("aside",{className:"col-md-4 mt-2 mt-md-0 mb-2 mb-md-0",children:(0,f.jsxs)("select",{className:"form-control",onChange:function(e){var n=e.target.value;G(n),console.log(n),ee()},style:{background:"white"},"aria-label":"select",children:[(0,f.jsx)("option",{value:"",children:"STATUS"}),(0,f.jsx)("option",{value:"1",children:"Active"}),(0,f.jsx)("option",{value:"2",children:"Hold"}),(0,f.jsx)("option",{value:"0",children:"Deleted"})]})})]}),(0,f.jsx)("div",{className:"row my-2",children:(0,f.jsx)("div",{className:"col-md-12",children:(0,f.jsx)("div",{className:"card shadow",children:(0,f.jsxs)("div",{className:"card-body",children:[(0,f.jsx)("div",{className:"resp-table countries-tb",children:(0,f.jsxs)("table",{className:"table",children:[(0,f.jsx)("thead",{children:(0,f.jsxs)("tr",{children:[(0,f.jsx)("th",{children:"Actions"}),(0,f.jsx)("th",{children:"Status"}),(0,f.jsx)("th",{children:"ID"}),(0,f.jsx)("th",{children:"Name"}),(0,f.jsx)("th",{children:"CountryCode"}),(0,f.jsx)("th",{children:"Description"}),(0,f.jsx)("th",{children:"CreatedBy"}),(0,f.jsx)("th",{children:"UpdatedBy"}),(0,f.jsx)("th",{children:"CreatedAt"}),(0,f.jsx)("th",{children:"UpdatedAt"})]})}),(0,f.jsx)("tbody",{children:X?(0,f.jsx)("tr",{children:(0,f.jsx)("td",{rowSpan:"10",colSpan:"13",children:(0,f.jsx)("div",{className:"text-center py-5",children:(0,f.jsx)(Z.Z,{animation:"border"})})})}):null===Y||void 0===Y||null===(e=Y.data)||void 0===e?void 0:e.map((function(e){return(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{className:"actions",children:(0,f.jsx)(l.d,{onClick:(n=e.id,function(){D(n),w(!0)})})}),(0,f.jsx)("td",{children:(0,f.jsx)(u.q,{code:e.status})}),(0,f.jsx)("td",{children:e.id}),(0,f.jsx)("td",{children:H&&e.name.toLowerCase().includes(H.toLowerCase())?(0,f.jsx)("span",{className:"highlighted",children:e.name}):e.name}),(0,f.jsxs)("td",{children:[" ",e.countryCode]}),(0,f.jsx)("td",{children:e.description}),(0,f.jsx)("td",{children:se&&se.data&&se.data.find((function(n){return n.id===e.createdBy}))?function(){var n=se.data.find((function(n){return n.id===e.createdBy}));return"".concat(n.firstName||"N/A"," ").concat(n.lastName||"N/A")}():e.createdBy}),(0,f.jsx)("td",{children:se&&se.data&&se.data.find((function(n){return n.id===e.updatedBy}))?function(){var n=se.data.find((function(n){return n.id===e.updatedBy}));return"".concat(n.firstName||"N/A"," ").concat(n.lastName||"N/A")}():e.updatedBy}),(0,f.jsx)("td",{children:(0,f.jsx)(o.o,{dateTime:e.createdAt})}),(0,f.jsx)("td",{children:(0,f.jsx)(o.o,{dateTime:e.updatedAt})})]},e.id);var n}))})]})}),X?null:(0,f.jsx)(d.$,{page:m,pageSize:20,data:Y,setPage:x})]})})})})]})}),p?(0,f.jsx)(b,{handleSuccess:function(){g(!1),ee()},handleClose:function(){return g(!1)}}):null,k?(0,f.jsx)(y,{id:P,handleSuccess:function(){n.invalidateQueries({queryKey:["Countries-details",P]}),w(!1),ee()},handleClose:function(){return w(!1)}}):null]})}},18:function(e,n,a){a.d(n,{Z:function(){return Z}});var s=a(1413),t=a(5987),r=a(1694),i=a.n(r),l=a(2791),c=a(239),d=a(9007),o=a(162),u=a(7472),h=a(184),m=["className","bsPrefix","as"],x=(0,u.Z)("h4");x.displayName="DivStyledAsH4";var j=l.forwardRef((function(e,n){var a=e.className,r=e.bsPrefix,l=e.as,c=void 0===l?x:l,d=(0,t.Z)(e,m);return r=(0,o.vE)(r,"alert-heading"),(0,h.jsx)(c,(0,s.Z)({ref:n,className:i()(a,r)},d))}));j.displayName="AlertHeading";var f=j,v=a(6445),p=["className","bsPrefix","as"],g=l.forwardRef((function(e,n){var a=e.className,r=e.bsPrefix,l=e.as,c=void 0===l?v.Z:l,d=(0,t.Z)(e,p);return r=(0,o.vE)(r,"alert-link"),(0,h.jsx)(c,(0,s.Z)({ref:n,className:i()(a,r)},d))}));g.displayName="AlertLink";var b=g,N=a(4418),C=a(473),y=["bsPrefix","show","closeLabel","closeVariant","className","children","variant","onClose","dismissible","transition"],S=l.forwardRef((function(e,n){var a=(0,c.Ch)(e,{show:"onClose"}),r=a.bsPrefix,l=a.show,u=void 0===l||l,m=a.closeLabel,x=void 0===m?"Close alert":m,j=a.closeVariant,f=a.className,v=a.children,p=a.variant,g=void 0===p?"primary":p,b=a.onClose,S=a.dismissible,Z=a.transition,k=void 0===Z?N.Z:Z,w=(0,t.Z)(a,y),A=(0,o.vE)(r,"alert"),B=(0,d.Z)((function(e){b&&b(!1,e)})),P=!0===k?N.Z:k,D=(0,h.jsxs)("div",(0,s.Z)((0,s.Z)({role:"alert"},P?void 0:w),{},{ref:n,className:i()(f,A,g&&"".concat(A,"-").concat(g),S&&"".concat(A,"-dismissible")),children:[S&&(0,h.jsx)(C.Z,{onClick:B,"aria-label":x,variant:j}),v]}));return P?(0,h.jsx)(P,(0,s.Z)((0,s.Z)({unmountOnExit:!0},w),{},{ref:void 0,in:u,children:D})):u?D:null}));S.displayName="Alert";var Z=Object.assign(S,{Link:b,Heading:f})}}]);
//# sourceMappingURL=882.d2676ec4.chunk.js.map