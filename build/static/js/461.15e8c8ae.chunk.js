"use strict";(self.webpackChunksikka_admin_app=self.webpackChunksikka_admin_app||[]).push([[461],{2806:function(e,a,t){t.d(a,{b:function(){return n}});var n=t(1243).Z.create({baseURL:"https://app.cikka.com.au/api"});n.interceptors.request.use((function(e){var a=localStorage.getItem("token");return a&&(e.headers.Authorization="Bearer "+a),e}),(function(e){return Promise.reject(e)})),n.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)}))},7883:function(e,a,t){t.d(a,{$:function(){return r}});var n=t(3637),s=t(184),r=function(e){var a=e.page,t=e.pageSize,r=e.data,c=e.setPage;return(0,s.jsxs)("div",{className:"row pagin-sec",children:[(0,s.jsx)("div",{className:"col-sm-12 col-md-5",children:(0,s.jsx)("div",{className:"dataTables_info",role:"status","aria-live":"polite",children:"Showing ".concat(a*t+1," to  ").concat(a*t+r.data.length," of ").concat(r.count," entries")})}),(0,s.jsx)("div",{className:"col-sm-12 col-md-7",style:{display:"flex",justifyContent:"flex-end"},children:(0,s.jsx)(n.Z,{itemClass:"page-item",prevPageText:"Previous",nextPageText:"Next",linkClass:"page-link",activePage:a+1,itemsCountPerPage:t,totalItemsCount:r.count,pageRangeDisplayed:5,hideFirstLastPages:!0,onChange:function(e){return c(e-1)}})})]})}},1629:function(e,a,t){t.d(a,{o:function(){return s}});var n=t(184),s=function(e){var a=e.dateTime,t=new Date(a).toLocaleString("en-GB",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0});return(0,n.jsx)("span",{children:t})}},9324:function(e,a,t){t.d(a,{q:function(){return s}});var n=t(184),s=function(e){return null===e.code?(0,n.jsx)("span",{className:"badge badge-pill badge-warning",children:"Null"}):0===e.code?(0,n.jsx)("span",{className:"badge badge-pill badge-danger",children:"Deleted"}):1===e.code?(0,n.jsx)("span",{className:"badge badge-pill badge-success",children:"Active"}):2===e.code?(0,n.jsx)("span",{className:"badge badge-pill badge-warning",children:"Hold"}):void 0}},2461:function(e,a,t){t.r(a),t.d(a,{Purchases:function(){return m}});var n=t(9439),s=t(2791),r=t(6403),c=t(2917),i=t(4849),d=t(2806),l=t(7883),o=t(1629),u=t(9324),h=t(184),m=function(){(0,r.NL)();var e,a=(0,s.useState)(0),t=(0,n.Z)(a,2),m=t[0],x=t[1],j=(0,s.useState)(""),g=(0,n.Z)(j,2),p=g[0],v=g[1],f=(0,s.useState)(""),N=(0,n.Z)(f,2),b=N[0],y=N[1],S=(0,s.useState)(""),C=(0,n.Z)(S,2),k=C[0],P=C[1],A=(0,s.useState)(""),D=(0,n.Z)(A,2),w=D[0],I=D[1],B=(0,s.useState)(!1),E=(0,n.Z)(B,2),T=(E[0],E[1],(0,c.a)({queryKey:["Purchases",m,w,p,b,k],queryFn:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,t=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,r=arguments.length>5?arguments[5]:void 0;return d.b.get("/cikka-purchases?pageIndex=".concat(e,"&pageSize=").concat(a,"&purchaseStatus=").concat(t,"&sortBy=").concat(n,"&sortOrder=").concat(s,"&status=").concat(r)).then((function(e){return e.data}))}(m,20,w,p,b,k)},keepPreviousData:!0})),Z=T.data,L=T.refetch,U=T.isLoading,q=(0,s.useState)([]),z=(0,n.Z)(q,2),_=z[0],H=z[1];return(0,s.useEffect)((function(){d.b.get("/users?pageIndex=0&pageSize=1400").then((function(e){return e.data})).then((function(e){H(e),console.log(e)})).catch((function(e){console.error("Error fetching categories:",e)}))}),[]),(0,h.jsx)(h.Fragment,{children:(0,h.jsx)("div",{className:"row justify-content-center",children:(0,h.jsxs)("div",{className:"col-12",children:[(0,h.jsx)("div",{className:"row heading-add",children:(0,h.jsx)("aside",{className:"ml-2 mr-2",children:(0,h.jsx)("h2",{className:"mb-0 page-title",children:"Cikka Purchases"})})}),(0,h.jsxs)("div",{className:"d-flex flex-wrap",children:[(0,h.jsx)("aside",{className:"col-md-4 mt-2 mt-md-0 mb-2 mb-md-0",children:(0,h.jsxs)("select",{className:"form-control",onChange:function(e){var a=e.target.value;I(a),console.log(a),L()},style:{background:"white"},"aria-label":"select",children:[(0,h.jsx)("option",{value:"",children:"PurchaseStatus"}),(0,h.jsx)("option",{value:"CANCELLED",children:"CANCELLED"}),(0,h.jsx)("option",{value:"INITIATED",children:"INITIATED"}),(0,h.jsx)("option",{value:"PURCHASED",children:"PURCHASED"})]})}),(0,h.jsx)("aside",{className:"col-md-4 mt-2 mt-md-0 mb-2 mb-md-0",children:(0,h.jsxs)("select",{className:"form-control",onChange:function(e){var a=e.target.value;v(a),console.log(a),L()},style:{background:"white"},"aria-label":"select",children:[(0,h.jsx)("option",{value:"",children:"sortBy"}),(0,h.jsx)("option",{value:"id",children:"ID"}),(0,h.jsx)("option",{value:"purchaseValue",children:"PurchaseValue"})]})}),(0,h.jsx)("aside",{className:"col-md-2 mt-2 mt-md-0 mb-2 mb-md-0",children:(0,h.jsxs)("select",{className:"form-control",onChange:function(e){var a=e.target.value;y(a),console.log(a),L()},style:{background:"white"},"aria-label":"select",children:[(0,h.jsx)("option",{value:"",children:"sortOrder"}),(0,h.jsx)("option",{value:"ASC",children:"ASC"}),(0,h.jsx)("option",{value:"DESC",children:"DESC"})]})}),(0,h.jsx)("aside",{className:"col-md-2 mt-2 mt-md-0 mb-2 mb-md-0",children:(0,h.jsxs)("select",{className:"form-control",onChange:function(e){var a=e.target.value;P(a),console.log(a),L()},style:{background:"white"},"aria-label":"select",children:[(0,h.jsx)("option",{value:"",children:"STATUS"}),(0,h.jsx)("option",{value:"1",children:"Active"}),(0,h.jsx)("option",{value:"2",children:"Hold"}),(0,h.jsx)("option",{value:"0",children:"Deleted"})]})})]}),(0,h.jsx)("div",{className:"row my-2",children:(0,h.jsx)("div",{className:"col-md-12",children:(0,h.jsx)("div",{className:"card shadow",children:(0,h.jsxs)("div",{className:"card-body",children:[(0,h.jsx)("div",{className:"resp-table purchases-tb",children:(0,h.jsxs)("table",{className:"table",children:[(0,h.jsx)("thead",{children:(0,h.jsxs)("tr",{children:[(0,h.jsx)("th",{children:"ID"}),(0,h.jsx)("th",{children:"UserID"}),(0,h.jsx)("th",{children:"PurchaseStatus"}),(0,h.jsx)("th",{children:"PurchaseValue"}),(0,h.jsx)("th",{children:"PaymentDetails"}),(0,h.jsx)("th",{children:"CreatedBy"}),(0,h.jsx)("th",{children:"UpdatedBy"}),(0,h.jsx)("th",{children:"CreatedAt"}),(0,h.jsx)("th",{children:"UpdatedAt"}),(0,h.jsx)("th",{children:"Status"})]})}),(0,h.jsx)("tbody",{children:U?(0,h.jsx)("tr",{children:(0,h.jsx)("td",{rowSpan:"10",colSpan:"15",children:(0,h.jsx)("div",{className:"text-center py-5",children:(0,h.jsx)(i.Z,{animation:"border"})})})}):null===Z||void 0===Z||null===(e=Z.data)||void 0===e?void 0:e.map((function(e){return(0,h.jsxs)("tr",{children:[(0,h.jsx)("td",{children:e.id}),(0,h.jsx)("td",{children:e.userId}),(0,h.jsx)("td",{children:e.purchaseStatus}),(0,h.jsx)("td",{children:e.purchaseValue}),(0,h.jsx)("td",{children:e.paymentDetails}),(0,h.jsx)("td",{children:_&&_.data&&_.data.find((function(a){return a.id===e.createdBy}))?function(){var a=_.data.find((function(a){return a.id===e.createdBy}));return"".concat(a.firstName||"N/A"," ").concat(a.lastName||"N/A")}():e.createdBy}),(0,h.jsx)("td",{children:_&&_.data&&_.data.find((function(a){return a.id===e.updatedBy}))?function(){var a=_.data.find((function(a){return a.id===e.updatedBy}));return"".concat(a.firstName||"N/A"," ").concat(a.lastName||"N/A")}():e.updatedBy}),(0,h.jsx)("td",{children:(0,h.jsx)(o.o,{dateTime:e.createdAt})}),(0,h.jsx)("td",{children:(0,h.jsx)(o.o,{dateTime:e.updatedAt})}),(0,h.jsx)("td",{children:(0,h.jsx)(u.q,{code:e.status})})]},e.id)}))})]})}),U?null:(0,h.jsx)(l.$,{page:m,pageSize:20,data:Z,setPage:x})]})})})})]})})})}}}]);
//# sourceMappingURL=461.15e8c8ae.chunk.js.map