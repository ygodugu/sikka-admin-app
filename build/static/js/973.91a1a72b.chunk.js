"use strict";(self.webpackChunksikka_admin_app=self.webpackChunksikka_admin_app||[]).push([[973],{2806:function(e,n,a){a.d(n,{b:function(){return t}});var t=a(1243).Z.create({baseURL:"https://app.cikka.com.au/api"});t.interceptors.request.use((function(e){var n=localStorage.getItem("token");return n&&(e.headers.Authorization="Bearer "+n),e}),(function(e){return Promise.reject(e)})),t.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)}))},7883:function(e,n,a){a.d(n,{$:function(){return i}});var t=a(3637),s=a(184),i=function(e){var n=e.page,a=e.pageSize,i=e.data,r=e.setPage;return(0,s.jsxs)("div",{className:"row pagin-sec",children:[(0,s.jsx)("div",{className:"col-sm-12 col-md-5",children:(0,s.jsx)("div",{className:"dataTables_info",role:"status","aria-live":"polite",children:"Showing ".concat(n*a+1," to  ").concat(n*a+i.data.length," of ").concat(i.count," entries")})}),(0,s.jsx)("div",{className:"col-sm-12 col-md-7",style:{display:"flex",justifyContent:"flex-end"},children:(0,s.jsx)(t.Z,{itemClass:"page-item",prevPageText:"Previous",nextPageText:"Next",linkClass:"page-link",activePage:n+1,itemsCountPerPage:a,totalItemsCount:i.count,pageRangeDisplayed:5,hideFirstLastPages:!0,onChange:function(e){return r(e-1)}})})]})}},1629:function(e,n,a){a.d(n,{o:function(){return s}});var t=a(184),s=function(e){var n=e.dateTime;return(0,t.jsx)("span",{children:new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1,timeZone:"UTC"}).format(new Date(n))})}},2805:function(e,n,a){a.d(n,{d:function(){return i}});a(2791);var t=a.p+"static/media/edit-icon.99f293607452e6df8a5fe12a6b47b2b0.svg",s=a(184),i=function(e){var n=e.onClick;return(0,s.jsx)("img",{style:{cursor:"pointer"},src:t,onClick:n})}},9324:function(e,n,a){a.d(n,{q:function(){return s}});var t=a(184),s=function(e){return null===e.code?(0,t.jsx)("span",{className:"badge badge-pill badge-warning",children:"Null"}):0===e.code?(0,t.jsx)("span",{className:"badge badge-pill badge-danger",children:"Deleted"}):1===e.code?(0,t.jsx)("span",{className:"badge badge-pill badge-success",children:"Active"}):2===e.code?(0,t.jsx)("span",{className:"badge badge-pill badge-warning",children:"Hold"}):void 0}},3179:function(e,n,a){a.r(n),a.d(n,{Services:function(){return Z}});var t=a(9439),s=a(2791),i=a(9781),r=a(6403),l=a(2917),c=a(4849),d=a(2806),o=a(7883),u=a(1629),h=a(2805),m=a(9324),x=a(3418),j=a(9930),f=a(5705),v=a(8007),p=a(184),g=(0,v.Ry)({name:(0,v.Z_)().required("Name is required")}),b=function(e){var n=e.initialValues,a=e.handleSubmit,t=(e.isAdd,(0,f.TA)({initialValues:n,onSubmit:a,validationSchema:g}));return(0,p.jsxs)("form",{onSubmit:t.handleSubmit,children:[(0,p.jsxs)("div",{className:"row",children:[(0,p.jsx)("aside",{className:"col-md-6",children:(0,p.jsxs)("div",{className:"form-group",children:[(0,p.jsx)("label",{htmlFor:"name",children:"Name *"}),(0,p.jsx)("input",{type:"text",id:"name",value:t.values.name,onChange:t.handleChange,className:"form-control form-control-lg",placeholder:"Enter name"}),(0,p.jsx)("div",{className:"invalid-feedback",children:t.errors.name})]})}),(0,p.jsx)("aside",{className:"col-md-6",children:(0,p.jsxs)("div",{className:"form-group",children:[(0,p.jsx)("label",{htmlFor:"description",children:"Description"}),(0,p.jsx)("input",{type:"text",id:"description",value:t.values.description,onChange:t.handleChange,className:"form-control form-control-lg",placeholder:"Enter description"})]})}),(0,p.jsx)("aside",{className:"col-md-6",children:(0,p.jsxs)("div",{className:"form-group",children:[(0,p.jsx)("label",{htmlFor:"duration",children:"Duration"}),(0,p.jsx)("input",{type:"number",id:"duration",value:t.values.duration,onChange:t.handleChange,className:"form-control form-control-lg",placeholder:"Enter duration"})]})}),(0,p.jsx)("aside",{className:"col-md-6",children:(0,p.jsxs)("div",{className:"form-group",children:[(0,p.jsx)("label",{htmlFor:"status",children:"status"}),(0,p.jsxs)("select",{id:"status",className:"form-control select2",onChange:t.handleChange,value:t.values.status,children:[(0,p.jsx)("option",{value:"1",children:"Active"}),(0,p.jsx)("option",{value:"2",children:"Hold"}),(0,p.jsx)("option",{value:"0",children:"Deleted"})]})]})})]}),(0,p.jsx)("div",{className:"modal-footer d-flex justify-content-end",children:(0,p.jsx)("button",{type:"submit",className:"btn mb-2 btn-primary",children:"Save"})})]})},N=function(e){return d.b.post("/services",e)},S=function(e){var n=e.handleSuccess,a=e.handleClose,t=(0,x.D)({mutationFn:N});return(0,p.jsxs)(j.Z,{show:!0,onHide:a,size:"lg",children:[(0,p.jsxs)(j.Z.Header,{closeButton:!1,children:[(0,p.jsx)(j.Z.Title,{children:"New Service"}),(0,p.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:a,children:(0,p.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),(0,p.jsx)(j.Z.Body,{children:(0,p.jsx)(b,{initialValues:{fileId:"",id:"",merchantUserId:"",name:"",duration:"",description:"",status:""},handleSubmit:function(e){t.mutate(e,{onSuccess:n})}})})]})},y=a(1413),C=function(e){return d.b.put("/services/".concat(e.id),e)},k=function(e){var n=e.handleSuccess,a=e.handleClose,t=e.id,s=(0,l.a)({queryKey:["Services-details",t],queryFn:function(){return function(e){return d.b.get("/services/".concat(e)).then((function(e){return e.data}))}(t)}}),i=s.data,r=(s.error,(0,x.D)({mutationFn:C}));return(0,p.jsx)(p.Fragment,{children:i&&(0,p.jsxs)(j.Z,{show:!0,onHide:a,size:"lg",children:[(0,p.jsxs)(j.Z.Header,{closeButton:!1,children:[(0,p.jsx)(j.Z.Title,{children:"Edit Service"}),(0,p.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:a,children:(0,p.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),(0,p.jsx)(j.Z.Body,{children:(0,p.jsx)(b,{initialValues:i,handleSubmit:function(e){r.mutate((0,y.Z)((0,y.Z)({},e),{},{id:t}),{onSuccess:n})}})})]})})},Z=function(){var e=(0,r.NL)(),n=(0,s.useState)(0),a=(0,t.Z)(n,2),x=a[0],j=a[1],f=(0,s.useState)(!1),v=(0,t.Z)(f,2),g=v[0],b=v[1],N=(0,s.useState)(!1),y=(0,t.Z)(N,2),C=y[0],Z=y[1],w=(0,s.useState)(),A=(0,t.Z)(w,2),D=A[0],P=A[1],T=(0,s.useState)(""),U=(0,t.Z)(T,2),F=U[0],I=U[1],B=(0,s.useState)(""),q=(0,t.Z)(B,2),E=q[0],H=q[1],z=(0,s.useState)(""),_=(0,t.Z)(z,2),L=_[0],V=_[1],K=(0,s.useState)(""),R=(0,t.Z)(K,2),O=R[0],$=R[1],M=(0,s.useState)(!1),Q=(0,t.Z)(M,2),G=(Q[0],Q[1],(0,l.a)({queryKey:["Services",x,F,E,L,O],queryFn:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,a=arguments.length>2?arguments[2]:void 0,t=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0;return d.b.get("/services?pageIndex=".concat(e,"&pageSize=").concat(n,"&search=").concat(a,"&sortBy=").concat(t,"&sortOrder=").concat(s,"&status=").concat(i)).then((function(e){return e.data}))}(x,20,F,E,L,O)},keepPreviousData:!0})),J=G.data,W=G.refetch,X=G.isLoading,Y=(0,s.useState)([]),ee=(0,t.Z)(Y,2),ne=ee[0],ae=ee[1];(0,s.useEffect)((function(){d.b.get("/users").then((function(e){return e.data})).then((function(e){ae(e),console.log(e)})).catch((function(e){console.error("Error fetching categories:",e)}))}),[]);var te=function(e){var n=e.split("?")[1].split("=")[1];return"https://app.cikka.com.au/api/files/file-preview?fileName=".concat(n,"&folderName=").concat("service")};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{className:"row justify-content-center",children:(0,p.jsxs)("div",{className:"col-12",children:[(0,p.jsxs)("div",{className:"row heading-add",children:[(0,p.jsx)("aside",{className:"ml-2 mr-2",children:(0,p.jsx)("h2",{className:"mb-0 page-title",children:"Services"})}),(0,p.jsx)("form",{className:"form-inline  mr-auto searchform",children:(0,p.jsx)("input",{className:"form-control mr-sm-2 border-0",onChange:function(e){var n=e.target.value;I(n),W()},type:"text",style:{background:"white"},placeholder:"Search","aria-label":"Search"})}),(0,p.jsx)("aside",{className:"col-sm-2 add-sec",children:(0,p.jsx)("button",{className:"bttn",onClick:function(){return b(!0)},children:"Add"})})]}),(0,p.jsxs)("div",{className:"d-flex flex-wrap",children:[(0,p.jsx)("aside",{className:"col-md-4 mt-2 mt-md-0 mb-2 mb-md-0",children:(0,p.jsxs)("select",{className:"form-control",onChange:function(e){var n=e.target.value;H(n),console.log(n),W()},style:{background:"white"},"aria-label":"select",children:[(0,p.jsx)("option",{value:"",children:"sortBy"}),(0,p.jsx)("option",{value:"id",children:"ID"})]})}),(0,p.jsx)("aside",{className:"col-md-4 mt-2 mt-md-0 mb-2 mb-md-0",children:(0,p.jsxs)("select",{className:"form-control",onChange:function(e){var n=e.target.value;V(n),console.log(n),W()},style:{background:"white"},"aria-label":"select",children:[(0,p.jsx)("option",{value:"",children:"sortOrder"}),(0,p.jsx)("option",{value:"ASC",children:"ASC"}),(0,p.jsx)("option",{value:"DESC",children:"DESC"})]})}),(0,p.jsx)("aside",{className:"col-md-4 mt-2 mt-md-0 mb-2 mb-md-0",children:(0,p.jsxs)("select",{className:"form-control",onChange:function(e){var n=e.target.value;$(n),console.log(n),W()},style:{background:"white"},"aria-label":"select",children:[(0,p.jsx)("option",{value:"",children:"STATUS"}),(0,p.jsx)("option",{value:"1",children:"Active"}),(0,p.jsx)("option",{value:"2",children:"Hold"}),(0,p.jsx)("option",{value:"0",children:"Deleted"})]})})]}),(0,p.jsx)("div",{className:"row my-2",children:(0,p.jsx)("div",{className:"col-md-12",children:(0,p.jsx)("div",{className:"card shadow",children:(0,p.jsxs)("div",{className:"card-body",children:[(0,p.jsx)("div",{className:"resp-table industries-tb",children:(0,p.jsxs)("table",{className:"table",children:[(0,p.jsx)("thead",{children:(0,p.jsxs)("tr",{children:[(0,p.jsx)("th",{children:"Actions"}),(0,p.jsx)("th",{children:"Status"}),(0,p.jsx)("th",{children:"Image"}),(0,p.jsx)("th",{children:"ID"}),(0,p.jsx)("th",{children:"Merchant-UserId"}),(0,p.jsx)("th",{children:"Name"}),(0,p.jsx)("th",{children:"duration"}),(0,p.jsx)("th",{children:"Description"}),(0,p.jsx)("th",{children:"CreatedBy"}),(0,p.jsx)("th",{children:"UpdatedBy"}),(0,p.jsx)("th",{children:"CreatedAt"}),(0,p.jsx)("th",{children:"UpdatedAt"})]})}),(0,p.jsx)("tbody",{children:X?(0,p.jsx)("tr",{children:(0,p.jsx)("td",{rowSpan:"10",colSpan:"15",children:(0,p.jsx)("div",{className:"text-center py-5",children:(0,p.jsx)(c.Z,{animation:"border"})})})}):J.data.map((function(e){var n,a,t,s,r;return(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{className:"actions",children:(0,p.jsx)(h.d,{onClick:(r=e.id,function(){P(r),Z(!0)})})}),(0,p.jsx)("td",{children:(0,p.jsx)(m.q,{code:e.status})}),(0,p.jsx)("td",{children:e.fileUpload&&e.fileUpload.filePath?(0,p.jsx)("img",{src:te(e.fileUpload.filePath),alt:"logo",className:"table-logo"}):(0,p.jsx)("img",{src:i,alt:"demoLogo",className:"table-logo"})}),(0,p.jsx)("td",{children:e.id}),(0,p.jsx)("td",{children:e.merchantUserId}),(0,p.jsx)("td",{children:e.merchantUserId}),(0,p.jsx)("td",{children:e.name}),(0,p.jsx)("td",{children:e.duration}),(0,p.jsx)("td",{children:e.description}),(0,p.jsx)("td",{children:(null===ne||void 0===ne||null===(n=ne.data)||void 0===n||null===(a=n.find((function(n){return n.id===e.createdBy})))||void 0===a?void 0:a.firstName)||"N/A"}),(0,p.jsx)("td",{children:(null===ne||void 0===ne||null===(t=ne.data)||void 0===t||null===(s=t.find((function(n){return n.id===e.updatedBy})))||void 0===s?void 0:s.firstName)||"N/A"}),(0,p.jsx)("td",{children:(0,p.jsx)(u.o,{dateTime:e.createdAt})}),(0,p.jsx)("td",{children:(0,p.jsx)(u.o,{dateTime:e.updatedAt})})]},e.id)}))})]})}),X?null:(0,p.jsx)(o.$,{page:x,pageSize:20,data:J,setPage:j})]})})})})]})}),g?(0,p.jsx)(S,{handleSuccess:function(){b(!1),W()},handleClose:function(){return b(!1)}}):null,C?(0,p.jsx)(k,{handleSuccess:function(){e.invalidateQueries({queryKey:["Services-details",D]}),Z(!1),W()},id:D,handleClose:function(){return Z(!1)}}):null]})}}}]);
//# sourceMappingURL=973.91a1a72b.chunk.js.map