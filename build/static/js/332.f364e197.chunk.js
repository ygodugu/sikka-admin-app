"use strict";(self.webpackChunksikka_admin_app=self.webpackChunksikka_admin_app||[]).push([[332],{2806:function(e,n,t){t.d(n,{b:function(){return a}});var a=t(1243).Z.create({baseURL:"https://app.cikka.com.au/api"});a.interceptors.request.use((function(e){var n=localStorage.getItem("token");return n&&(e.headers.Authorization="Bearer "+n),e}),(function(e){return Promise.reject(e)})),a.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)}))},7883:function(e,n,t){t.d(n,{$:function(){return i}});var a=t(3637),s=t(184),i=function(e){var n=e.page,t=e.pageSize,i=e.data,r=e.setPage;return(0,s.jsxs)("div",{className:"row pagin-sec",children:[(0,s.jsx)("div",{className:"col-sm-12 col-md-5",children:(0,s.jsx)("div",{className:"dataTables_info",role:"status","aria-live":"polite",children:"Showing ".concat(n*t+1," to  ").concat(n*t+i.data.length," of ").concat(i.count," entries")})}),(0,s.jsx)("div",{className:"col-sm-12 col-md-7",style:{display:"flex",justifyContent:"flex-end"},children:(0,s.jsx)(a.Z,{itemClass:"page-item",prevPageText:"Previous",nextPageText:"Next",linkClass:"page-link",activePage:n+1,itemsCountPerPage:t,totalItemsCount:i.count,pageRangeDisplayed:5,hideFirstLastPages:!0,onChange:function(e){return r(e-1)}})})]})}},1629:function(e,n,t){t.d(n,{o:function(){return s}});var a=t(184),s=function(e){var n=e.dateTime,t=new Date(n).toLocaleString("en-GB",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0});return(0,a.jsx)("span",{children:t})}},2805:function(e,n,t){t.d(n,{d:function(){return i}});t(2791);var a=t.p+"static/media/edit-icon.99f293607452e6df8a5fe12a6b47b2b0.svg",s=t(184),i=function(e){var n=e.onClick;return(0,s.jsx)("img",{style:{cursor:"pointer"},src:a,onClick:n})}},9324:function(e,n,t){t.d(n,{q:function(){return s}});var a=t(184),s=function(e){return null===e.code?(0,a.jsx)("span",{className:"badge badge-pill badge-warning",children:"Null"}):0===e.code?(0,a.jsx)("span",{className:"badge badge-pill badge-danger",children:"Deleted"}):1===e.code?(0,a.jsx)("span",{className:"badge badge-pill badge-success",children:"Active"}):2===e.code?(0,a.jsx)("span",{className:"badge badge-pill badge-warning",children:"Hold"}):void 0}},7787:function(e,n,t){t.r(n),t.d(n,{Industries:function(){return k}});var a=t(9439),s=t(2791),i=t(6403),r=t(2917),c=t(4849),l=t(2806),d=t(7883),o=t(1629),u=t(2805),h=t(9324),m=t(3418),x=t(9930),j=t(5705),f=t(8007),p=t(184),g=(0,f.Ry)({name:(0,f.Z_)().required("Name is required")}),v=function(e){var n=e.initialValues,t=e.handleSubmit,a=e.isAdd,s=void 0!==a&&a,i=(0,j.TA)({initialValues:n,onSubmit:t,validationSchema:g});return(0,p.jsxs)("form",{onSubmit:i.handleSubmit,children:[(0,p.jsxs)("div",{className:"row",children:[(0,p.jsx)("aside",{className:"col-md-6",children:(0,p.jsxs)("div",{className:"form-group",children:[(0,p.jsx)("label",{htmlFor:"name",children:"Name *"}),(0,p.jsx)("input",{type:"text",id:"name",value:i.values.name,onChange:i.handleChange,className:"form-control form-control-lg",placeholder:"Enter name"}),(0,p.jsx)("div",{className:"invalid-feedback",children:i.errors.name})]})}),(0,p.jsx)("aside",{className:"col-md-6",children:(0,p.jsxs)("div",{className:"form-group",children:[(0,p.jsx)("label",{htmlFor:"description",children:"Description"}),(0,p.jsx)("input",{type:"text",id:"description",value:i.values.description,onChange:i.handleChange,className:"form-control form-control-lg",placeholder:"Enter description"})]})}),s?null:(0,p.jsx)("aside",{className:"col-md-6",children:(0,p.jsxs)("div",{className:"form-group",children:[(0,p.jsx)("label",{htmlFor:"status",children:"status"}),(0,p.jsxs)("select",{id:"status",className:"form-control select2",onChange:i.handleChange,value:i.values.status,children:[(0,p.jsx)("option",{value:"1",children:"Active"}),(0,p.jsx)("option",{value:"2",children:"Hold"}),(0,p.jsx)("option",{value:"0",children:"Deleted"})]})]})})]}),(0,p.jsx)("div",{className:"modal-footer d-flex justify-content-end",children:(0,p.jsx)("button",{type:"submit",className:"btn mb-2 btn-primary",children:"Save"})})]})},b=function(e){return l.b.post("/industries",e)},N=function(e){var n=e.handleSuccess,t=e.handleClose,a=(0,m.D)({mutationFn:b});return(0,p.jsxs)(x.Z,{show:!0,onHide:t,size:"lg",children:[(0,p.jsxs)(x.Z.Header,{closeButton:!1,children:[(0,p.jsx)(x.Z.Title,{children:"New Industrie"}),(0,p.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:t,children:(0,p.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),(0,p.jsx)(x.Z.Body,{children:(0,p.jsx)(v,{initialValues:{name:"",description:"",status:""},isAdd:!0,handleSubmit:function(e){a.mutate(e,{onSuccess:n})}})})]})},y=t(1413),S=function(e){return l.b.put("/industries/".concat(e.id),e)},C=function(e){var n=e.handleSuccess,t=e.handleClose,a=e.id,s=(0,r.a)({queryKey:["Industries-details",a],queryFn:function(){return function(e){return l.b.get("/industries/".concat(e)).then((function(e){return e.data}))}(a)}}),i=s.data,c=(s.error,(0,m.D)({mutationFn:S}));return(0,p.jsx)(p.Fragment,{children:i&&(0,p.jsxs)(x.Z,{show:!0,onHide:t,size:"lg",children:[(0,p.jsxs)(x.Z.Header,{closeButton:!1,children:[(0,p.jsx)(x.Z.Title,{children:"Edit Industrie"}),(0,p.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:t,children:(0,p.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),(0,p.jsx)(x.Z.Body,{children:(0,p.jsx)(v,{initialValues:i,handleSubmit:function(e){c.mutate((0,y.Z)((0,y.Z)({},e),{},{id:a}),{onSuccess:n})}})})]})})},k=function(){var e=(0,i.NL)(),n=(0,s.useState)(0),t=(0,a.Z)(n,2),m=t[0],x=t[1],j=(0,s.useState)(!1),f=(0,a.Z)(j,2),g=f[0],v=f[1],b=(0,s.useState)(!1),y=(0,a.Z)(b,2),S=y[0],k=y[1],Z=(0,s.useState)(),w=(0,a.Z)(Z,2),A=w[0],B=w[1],D=(0,s.useState)(""),I=(0,a.Z)(D,2),P=I[0],T=I[1],q=(0,s.useState)(""),F=(0,a.Z)(q,2),z=F[0],E=F[1],H=(0,s.useState)(""),L=(0,a.Z)(H,2),_=L[0],U=L[1],V=(0,s.useState)(""),K=(0,a.Z)(V,2),R=K[0],O=K[1],$=(0,s.useState)(!1),G=(0,a.Z)($,2),Q=(G[0],G[1],(0,r.a)({queryKey:["Industries",m,P,z,_,R],queryFn:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,t=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0;return l.b.get("/industries?pageIndex=".concat(e,"&pageSize=").concat(n,"&search=").concat(t,"&sortBy=").concat(a,"&sortOrder=").concat(s,"&status=").concat(i)).then((function(e){return e.data}))}(m,20,P,z,_,R)},keepPreviousData:!0})),J=Q.data,M=Q.refetch,W=Q.isLoading,X=(0,s.useState)([]),Y=(0,a.Z)(X,2),ee=Y[0],ne=Y[1];return(0,s.useEffect)((function(){l.b.get("/users?pageIndex=0&pageSize=800").then((function(e){return e.data})).then((function(e){ne(e),console.log(e)})).catch((function(e){console.error("Error fetching categories:",e)}))}),[]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{className:"row justify-content-center",children:(0,p.jsxs)("div",{className:"col-12",children:[(0,p.jsxs)("div",{className:"row heading-add",children:[(0,p.jsx)("aside",{className:"ml-2 mr-2",children:(0,p.jsx)("h2",{className:"mb-0 page-title",children:"Industries"})}),(0,p.jsx)("form",{className:"form-inline  mr-auto searchform",children:(0,p.jsx)("input",{className:"form-control mr-sm-2 border-0",onChange:function(e){var n=e.target.value;T(n),M()},type:"text",style:{background:"white"},placeholder:"Search","aria-label":"Search"})}),(0,p.jsx)("aside",{className:"col-sm-2 add-sec",children:(0,p.jsx)("button",{className:"bttn",onClick:function(){return v(!0)},children:"Add"})})]}),(0,p.jsxs)("div",{className:"d-flex flex-wrap",children:[(0,p.jsx)("aside",{className:"col-md-4 mt-2 mt-md-0 mb-2 mb-md-0",children:(0,p.jsxs)("select",{className:"form-control",onChange:function(e){var n=e.target.value;E(n),console.log(n),M()},style:{background:"white"},"aria-label":"select",children:[(0,p.jsx)("option",{value:"",children:"sortBy"}),(0,p.jsx)("option",{value:"id",children:"ID"})]})}),(0,p.jsx)("aside",{className:"col-md-4 mt-2 mt-md-0 mb-2 mb-md-0",children:(0,p.jsxs)("select",{className:"form-control",onChange:function(e){var n=e.target.value;U(n),console.log(n),M()},style:{background:"white"},"aria-label":"select",children:[(0,p.jsx)("option",{value:"",children:"sortOrder"}),(0,p.jsx)("option",{value:"ASC",children:"ASC"}),(0,p.jsx)("option",{value:"DESC",children:"DESC"})]})}),(0,p.jsx)("aside",{className:"col-md-4 mt-2 mt-md-0 mb-2 mb-md-0",children:(0,p.jsxs)("select",{className:"form-control",onChange:function(e){var n=e.target.value;O(n),console.log(n),M()},style:{background:"white"},"aria-label":"select",children:[(0,p.jsx)("option",{value:"",children:"STATUS"}),(0,p.jsx)("option",{value:"1",children:"Active"}),(0,p.jsx)("option",{value:"2",children:"Hold"}),(0,p.jsx)("option",{value:"0",children:"Deleted"})]})})]}),(0,p.jsx)("div",{className:"row my-2",children:(0,p.jsx)("div",{className:"col-md-12",children:(0,p.jsx)("div",{className:"card shadow",children:(0,p.jsxs)("div",{className:"card-body",children:[(0,p.jsx)("div",{className:"resp-table industries-tb",children:(0,p.jsxs)("table",{className:"table",children:[(0,p.jsx)("thead",{children:(0,p.jsxs)("tr",{children:[(0,p.jsx)("th",{children:"Actions"}),(0,p.jsx)("th",{children:"Status"}),(0,p.jsx)("th",{children:"ID"}),(0,p.jsx)("th",{children:"Name"}),(0,p.jsx)("th",{children:"Description"}),(0,p.jsx)("th",{children:"CreatedBy"}),(0,p.jsx)("th",{children:"UpdatedBy"}),(0,p.jsx)("th",{children:"CreatedAt"}),(0,p.jsx)("th",{children:"UpdatedAt"})]})}),(0,p.jsx)("tbody",{children:W?(0,p.jsx)("tr",{children:(0,p.jsx)("td",{rowSpan:"10",colSpan:"15",children:(0,p.jsx)("div",{className:"text-center py-5",children:(0,p.jsx)(c.Z,{animation:"border"})})})}):J.data.map((function(e){return(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{className:"actions",children:(0,p.jsx)(u.d,{onClick:(n=e.id,function(){B(n),k(!0)})})}),(0,p.jsx)("td",{children:(0,p.jsx)(h.q,{code:e.status})}),(0,p.jsx)("td",{children:e.id}),(0,p.jsx)("td",{children:P&&e.name.toLowerCase().includes(P.toLowerCase())?(0,p.jsx)("span",{className:"highlighted",children:e.name}):e.name}),(0,p.jsx)("td",{children:e.description}),(0,p.jsx)("td",{children:ee&&ee.data&&ee.data.find((function(n){return n.id===e.createdBy}))?function(){var n=ee.data.find((function(n){return n.id===e.createdBy}));return"".concat(n.firstName||"N/A"," ").concat(n.lastName||"N/A")}():e.createdBy}),(0,p.jsx)("td",{children:ee&&ee.data&&ee.data.find((function(n){return n.id===e.updatedBy}))?function(){var n=ee.data.find((function(n){return n.id===e.updatedBy}));return"".concat(n.firstName||"N/A"," ").concat(n.lastName||"N/A")}():e.updatedBy}),(0,p.jsx)("td",{children:(0,p.jsx)(o.o,{dateTime:e.createdAt})}),(0,p.jsx)("td",{children:(0,p.jsx)(o.o,{dateTime:e.updatedAt})})]},e.id);var n}))})]})}),W?null:(0,p.jsx)(d.$,{page:m,pageSize:20,data:J,setPage:x})]})})})})]})}),g?(0,p.jsx)(N,{handleSuccess:function(){v(!1),M()},handleClose:function(){return v(!1)}}):null,S?(0,p.jsx)(C,{handleSuccess:function(){e.invalidateQueries({queryKey:["Industries-details",A]}),k(!1),M()},id:A,handleClose:function(){return k(!1)}}):null]})}}}]);
//# sourceMappingURL=332.f364e197.chunk.js.map