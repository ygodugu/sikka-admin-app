"use strict";(self.webpackChunksikka_admin_app=self.webpackChunksikka_admin_app||[]).push([[931],{2806:function(e,a,l){l.d(a,{b:function(){return n}});var n=l(1243).Z.create({baseURL:"https://app.cikka.com.au/api"});n.interceptors.request.use((function(e){var a=localStorage.getItem("token");return a&&(e.headers.Authorization="Bearer "+a),e}),(function(e){return Promise.reject(e)})),n.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)}))},7883:function(e,a,l){l.d(a,{$:function(){return s}});var n=l(3637),r=l(184),s=function(e){var a=e.page,l=e.pageSize,s=e.data,i=e.setPage;return(0,r.jsxs)("div",{className:"row pagin-sec",children:[(0,r.jsx)("div",{className:"col-sm-12 col-md-5",children:(0,r.jsx)("div",{className:"dataTables_info",role:"status","aria-live":"polite",children:"Showing ".concat(a*l+1," to  ").concat(a*l+s.data.length," of ").concat(s.count," entries")})}),(0,r.jsx)("div",{className:"col-sm-12 col-md-7",style:{display:"flex",justifyContent:"flex-end"},children:(0,r.jsx)(n.Z,{itemClass:"page-item",prevPageText:"Previous",nextPageText:"Next",linkClass:"page-link",activePage:a+1,itemsCountPerPage:l,totalItemsCount:s.count,pageRangeDisplayed:5,hideFirstLastPages:!0,onChange:function(e){return i(e-1)}})})]})}},1629:function(e,a,l){l.d(a,{o:function(){return r}});var n=l(184),r=function(e){var a=e.dateTime;return(0,n.jsx)("span",{children:new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1,timeZone:"UTC"}).format(new Date(a))})}},2805:function(e,a,l){l.d(a,{d:function(){return s}});l(2791);var n=l.p+"static/media/edit-icon.99f293607452e6df8a5fe12a6b47b2b0.svg",r=l(184),s=function(e){var a=e.onClick;return(0,r.jsx)("img",{style:{cursor:"pointer"},src:n,onClick:a})}},9324:function(e,a,l){l.d(a,{q:function(){return r}});var n=l(184),r=function(e){return null===e.code?(0,n.jsx)("span",{className:"badge badge-pill badge-warning",children:"Null"}):0===e.code?(0,n.jsx)("span",{className:"badge badge-pill badge-danger",children:"Deleted"}):1===e.code?(0,n.jsx)("span",{className:"badge badge-pill badge-success",children:"Active"}):2===e.code?(0,n.jsx)("span",{className:"badge badge-pill badge-warning",children:"Hold"}):void 0}},1665:function(e,a,l){l.d(a,{O:function(){return s}});l(2791);var n=l.p+"static/media/eye-icon.108e244b6ee8bc0d32b857cb71cc537c.svg",r=l(184),s=function(e){var a=e.onClick;return(0,r.jsx)("img",{style:{cursor:"pointer"},src:n,onClick:a})}},6931:function(e,a,l){l.r(a),l.d(a,{Merchants:function(){return R}});var n=l(9439),r=l(2791),s=l(9781),i=l(6403),o=l(2917),t=l(2805),d=l(1665),c=l(2806),u=l(7883),h=l(1629),m=l(9324),p=l(1413),x=l(5987),f=l(3418),g=l(9930),j=l(1243),v=l(5705),N=l(8862),b=l(8007),C=(l(8639),l(9513)),y=l.n(C),B=l(184),E=(0,b.Ry)({businessLegalName:(0,b.Z_)().required("businessLegalName is required"),tradeName:(0,b.Z_)().required("tradeName is required")}),I=function(e){var a=e.initialValues,l=e.onSubmit,s=e.isEdit,i=void 0!==s&&s,o=e.isAdd,t=void 0!==o&&o,d=(0,r.useState)(),u=(0,n.Z)(d,2),h=u[0],m=u[1],x=function(e){m(e.target.files[0])},f=(0,v.TA)({initialValues:a,onSubmit:function(e,a){(0,a.validateForm)(e).then((function(a){l((0,p.Z)((0,p.Z)({},e),{},{file:h}))}))},validationSchema:E}),g=(0,r.useState)([]),j=(0,n.Z)(g,2),b=j[0],C=j[1];(0,r.useEffect)((function(){c.b.get("/business-categories").then((function(e){var a,l;return null===(a=e.data)||void 0===a||null===(l=a.data)||void 0===l?void 0:l.map((function(e){return{id:e.id,label:"".concat(e.name)}}))})).then((function(e){C(e),a.businessCategoryId&&a.businessCategoryId&&f.setFieldValue("BusinessCategories",e.filter((function(e){return e.id===a.businessCategoryId})))}))}),[]);var I=(0,r.useState)([]),T=(0,n.Z)(I,2),S=T[0],k=T[1];return(0,r.useEffect)((function(){c.b.get("/industries").then((function(e){var a,l;return null===(a=e.data)||void 0===a||null===(l=a.data)||void 0===l?void 0:l.map((function(e){return{id:e.id,label:"".concat(e.name)}}))})).then((function(e){k(e),a.industryId&&a.industryId&&f.setFieldValue("Industries",e.filter((function(e){return e.id===a.industryId})))}))}),[]),(0,B.jsxs)("form",{onSubmit:f.handleSubmit,children:[(0,B.jsxs)("div",{className:"row",children:[i?null:(0,B.jsx)("aside",{className:"col-md-4",children:(0,B.jsxs)("div",{className:"form-group",children:[(0,B.jsx)("label",{for:"userType",children:"userType"}),(0,B.jsxs)("select",{id:"userType",className:"form-control",onChange:f.handleChange,value:f.values.userType,children:[(0,B.jsx)("option",{value:"",children:"userType"}),(0,B.jsx)("option",{value:"AGENT",children:"AGENT"}),(0,B.jsx)("option",{value:"COMMUNITY",children:"COMMUNITY"}),(0,B.jsx)("option",{value:"EVENT",children:"EVENT"}),(0,B.jsx)("option",{value:"MEMBER",children:"MEMBER"}),(0,B.jsx)("option",{value:"Muslim",children:"Muslim"}),(0,B.jsx)("option",{value:"MERCHANT",children:"MERCHANT"}),(0,B.jsx)("option",{value:"ORGANISER",children:"ORGANISER"}),(0,B.jsx)("option",{value:"SUPERAGENT",children:"SUPERAGENT"})]})]})}),i?null:(0,B.jsx)("aside",{className:"col-md-4",children:(0,B.jsxs)("div",{className:"form-group",children:[(0,B.jsx)("label",{for:"religion",children:"religion"}),(0,B.jsxs)("select",{id:"religion",className:"form-control select2",onChange:f.handleChange,value:f.values.religion,children:[(0,B.jsx)("option",{value:"",children:"religion"}),(0,B.jsx)("option",{value:"Buddhist",children:"Buddhist"}),(0,B.jsx)("option",{value:"Christian",children:"Christian"}),(0,B.jsx)("option",{value:"Hindu",children:"Hindu"}),(0,B.jsx)("option",{value:"Jain",children:"Jain"}),(0,B.jsx)("option",{value:"Muslim",children:"Muslim"}),(0,B.jsx)("option",{value:"Sikh",children:"Sikh"}),(0,B.jsx)("option",{value:"Zoroastrian",children:"Zoroastrian"}),(0,B.jsx)("option",{value:"Others",children:"Others"})]})]})}),(0,B.jsx)("aside",{className:"col-md-4",children:(0,B.jsxs)("div",{className:"form-group",children:[(0,B.jsx)("label",{for:"businessCategoryId",children:"businessCategory *"}),(0,B.jsx)(N.pY,{selected:f.values.BusinessCategories,id:"businessCategoryId",options:b,onChange:function(e){e&&e.length>0?f.setFieldValue("businessCategoryId",e[0].id):f.setFieldValue("businessCategoryId","")},placeholder:"Choose a businessCategory..."}),(0,B.jsx)("div",{className:"invalid-feedback",children:f.errors.businessCategoryId})]})}),(0,B.jsx)("aside",{className:"col-md-4",children:(0,B.jsxs)("div",{className:"form-group",children:[(0,B.jsx)("label",{for:"industryId",children:"industry *"}),(0,B.jsx)(N.pY,{selected:f.values.Industries,id:"industryId",options:S,onChange:function(e){e&&e.length>0?f.setFieldValue("industryId",e[0].id):f.setFieldValue("industryId","")},placeholder:"Choose a Industries..."}),(0,B.jsx)("div",{className:"invalid-feedback",children:f.errors.industryId})]})}),i?null:(0,B.jsx)("aside",{className:"col-md-4",children:(0,B.jsxs)("div",{className:"form-group",children:[(0,B.jsx)("label",{for:"firstName",children:"firstName"}),(0,B.jsx)("input",{type:"text",id:"firstName",value:f.values.abfirstNamen,onChange:f.handleChange,onBlur:f.handleBlur,className:"form-control form-control-lg",placeholder:"Enter firstName"})]})}),i?null:(0,B.jsx)("aside",{className:"col-md-4",children:(0,B.jsxs)("div",{className:"form-group",children:[(0,B.jsx)("label",{for:"middleName",children:"middleName"}),(0,B.jsx)("input",{type:"text",id:"middleName",value:f.values.middleName,onChange:f.handleChange,onBlur:f.handleBlur,className:"form-control form-control-lg",placeholder:"Enter middleName"})]})}),i?null:(0,B.jsx)("aside",{className:"col-md-4",children:(0,B.jsxs)("div",{className:"form-group",children:[(0,B.jsx)("label",{for:"lastName",children:"lastName"}),(0,B.jsx)("input",{type:"text",id:"lastName",value:f.values.lastName,onChange:f.handleChange,onBlur:f.handleBlur,className:"form-control form-control-lg",placeholder:"Enter lastName"})]})}),i?null:(0,B.jsx)("aside",{className:"col-md-4",children:(0,B.jsxs)("div",{className:"form-group",children:[(0,B.jsx)("label",{for:"email",children:"email"}),(0,B.jsx)("input",{type:"email",id:"email",value:f.values.email,onChange:f.handleChange,onBlur:f.handleBlur,className:"form-control form-control-lg",placeholder:"Enter email"})]})}),i?null:(0,B.jsx)("aside",{className:"col-md-4",children:(0,B.jsxs)("div",{className:"form-group",children:[(0,B.jsx)("label",{for:"password",children:"password"}),(0,B.jsx)("input",{type:"text",id:"password",value:f.values.password,onChange:f.handleChange,onBlur:f.handleBlur,className:"form-control form-control-lg",placeholder:"Enter password"})]})}),i?null:(0,B.jsx)("aside",{className:"col-md-4",children:(0,B.jsxs)("div",{className:"form-group",children:[(0,B.jsx)("label",{for:"dateOfBirth",children:"dateOfBirth"}),(0,B.jsx)(y(),{selected:f.values.dateOfBirth?new Date(f.values.dateOfBirth):null,onChange:function(e){f.setFieldValue("dateOfBirth",e),f.setFieldTouched("dateOfBirth")},className:"form-control"})]})}),i?null:(0,B.jsx)("aside",{className:"col-md-4",children:(0,B.jsxs)("div",{className:"form-group",children:[(0,B.jsx)("label",{for:"anniversaryDate",children:"anniversaryDate"}),(0,B.jsx)(y(),{selected:f.values.anniversaryDate?new Date(f.values.anniversaryDate):null,onChange:function(e){f.setFieldValue("anniversaryDate",e),f.setFieldTouched("anniversaryDate")},className:"form-control"})]})}),i?null:(0,B.jsx)("aside",{className:"col-md-4",children:(0,B.jsxs)("div",{className:"form-group",children:[(0,B.jsx)("label",{for:"joiningDate",children:"joiningDate"}),(0,B.jsx)(y(),{selected:f.values.joiningDate?new Date(f.values.joiningDate):null,onChange:function(e){f.setFieldValue("joiningDate",e),f.setFieldTouched("joiningDate")},className:"form-control"})]})}),i?null:(0,B.jsx)("aside",{className:"col-md-4",children:(0,B.jsxs)("div",{className:"form-group",children:[(0,B.jsx)("label",{for:"mobileNumber",children:"mobileNumber"}),(0,B.jsx)("input",{type:"number",id:"mobileNumber",value:f.values.mobileNumber,onChange:f.handleChange,onBlur:f.handleBlur,className:"form-control form-control-lg",placeholder:"Enter mobileNumber"})]})}),i?null:(0,B.jsx)("aside",{className:"col-md-4",children:(0,B.jsxs)("div",{className:"form-group",children:[(0,B.jsx)("label",{for:"gender",children:"gender"}),(0,B.jsxs)("select",{id:"gender",className:"form-control select2",onChange:f.handleChange,value:f.values.gender,children:[(0,B.jsx)("option",{value:"",children:"gender"}),(0,B.jsx)("option",{value:"Male",children:"Male"}),(0,B.jsx)("option",{value:"Female",children:"Female"}),(0,B.jsx)("option",{value:"Other",children:"Other "})]})]})}),i?null:(0,B.jsx)("aside",{className:"col-md-4",children:(0,B.jsxs)("div",{className:"form-group",children:[(0,B.jsx)("label",{for:"bloodGroup",children:"bloodGroup"}),(0,B.jsx)("input",{type:"text",id:"bloodGroup",value:f.values.bloodGroup,onChange:f.handleChange,onBlur:f.handleBlur,className:"form-control form-control-lg",placeholder:"Enter bloodGroup"})]})}),i?null:(0,B.jsx)("aside",{className:"col-md-4",children:(0,B.jsxs)("div",{className:"form-group",children:[(0,B.jsx)("label",{for:"alternativeNumber",children:"alternativeNumber"}),(0,B.jsx)("input",{type:"number",id:"alternativeNumber",value:f.values.alternativeNumber,onChange:f.handleChange,onBlur:f.handleBlur,className:"form-control form-control-lg",placeholder:"Enter alternativeNumber"})]})}),(0,B.jsx)("hr",{}),(0,B.jsx)("aside",{className:"col-md-4",children:(0,B.jsxs)("div",{className:"form-group",children:[(0,B.jsx)("label",{for:"abn",children:"ABN"}),(0,B.jsx)("input",{type:"text",id:"abn",value:f.values.abn,onChange:f.handleChange,onBlur:f.handleBlur,className:"form-control form-control-lg",placeholder:"Enter ABN"})]})}),(0,B.jsx)("aside",{className:"col-md-4",children:(0,B.jsxs)("div",{className:"form-group",children:[(0,B.jsx)("label",{for:"acn",children:"ACN"}),(0,B.jsx)("input",{type:"text",id:"acn",value:f.values.acn,onChange:f.handleChange,onBlur:f.handleBlur,className:"form-control form-control-lg",placeholder:"Enter acn"})]})}),(0,B.jsx)("aside",{className:"col-md-4",children:(0,B.jsxs)("div",{className:"form-group",children:[(0,B.jsx)("label",{for:"businessLegalName",children:"businessLegalName *"}),(0,B.jsx)("input",{type:"text",id:"businessLegalName",value:f.values.businessLegalName,onChange:f.handleChange,onBlur:f.handleBlur,className:"form-control form-control-lg",placeholder:"Enter First Name"}),(0,B.jsx)("div",{className:"invalid-feedback",children:f.errors.businessLegalName})]})}),(0,B.jsx)("aside",{className:"col-md-4",children:(0,B.jsxs)("div",{className:"form-group",children:[(0,B.jsx)("label",{htmlFor:"businessStructure",children:"businessStructure"}),(0,B.jsxs)("select",{id:"businessStructure",className:"form-control select2",onChange:f.handleChange,value:f.values.businessStructure,children:[(0,B.jsx)("option",{value:"",children:"businessStructure"}),(0,B.jsx)("option",{value:" Co_Operative",children:"Co_Operative"}),(0,B.jsx)("option",{value:"Company",children:"Company"}),(0,B.jsx)("option",{value:"Corporation",children:"Corporation"}),(0,B.jsx)("option",{value:"Indigenous",children:"Indigenous"}),(0,B.jsx)("option",{value:"Joint_Venture",children:"Joint_Venture"}),(0,B.jsx)("option",{value:"Partnership",children:"Partnership"}),(0,B.jsx)("option",{value:"Sole_Trader",children:"Sole_Trader"}),(0,B.jsx)("option",{value:"Trust",children:"Trust"})]})]})}),(0,B.jsx)("aside",{className:"col-md-4",children:(0,B.jsxs)("div",{className:"form-group",children:[(0,B.jsx)("label",{htmlFor:"dateOfOperation",children:"dateOfOperation"}),(0,B.jsx)(y(),{selected:f.values.dateOfOperation?new Date(f.values.dateOfOperation):null,onChange:function(e){f.setFieldValue("dateOfOperation",e),f.setFieldTouched("dateOfOperation")},className:"form-control"})]})}),(0,B.jsx)("aside",{className:"col-md-4",children:(0,B.jsxs)("div",{className:"form-group",children:[(0,B.jsx)("label",{htmlFor:"dateOfRegistration",children:"dateOfRegistration"}),(0,B.jsx)(y(),{selected:f.values.dateOfRegistration?new Date(f.values.dateOfRegistration):null,onChange:function(e){f.setFieldValue("dateOfRegistration",e),f.setFieldTouched("dateOfRegistration")},className:"form-control"})]})}),(0,B.jsx)("aside",{className:"col-md-4",children:(0,B.jsxs)("div",{className:"form-group",children:[(0,B.jsx)("label",{for:"description",children:"description"}),(0,B.jsx)("input",{type:"text",id:"description",value:f.values.description,onChange:f.handleChange,onBlur:f.handleBlur,className:"form-control form-control-lg",placeholder:"Enter description"})]})}),(0,B.jsx)("aside",{className:"col-md-4",children:(0,B.jsxs)("div",{className:"form-group",children:[(0,B.jsx)("label",{for:"latitude",children:"latitude"}),(0,B.jsx)("input",{type:"text",id:"latitude",value:f.values.latitude,onChange:f.handleChange,onBlur:f.handleBlur,className:"form-control form-control-lg",placeholder:"Enter latitude"})]})}),(0,B.jsx)("aside",{className:"col-md-4",children:(0,B.jsxs)("div",{className:"form-group",children:[(0,B.jsx)("label",{for:"longitude",children:"longitude"}),(0,B.jsx)("input",{type:"text",id:"longitude",value:f.values.longitude,onChange:f.handleChange,onBlur:f.handleBlur,className:"form-control form-control-lg",placeholder:"Enter longitude"})]})}),(0,B.jsx)("aside",{className:"col-md-4",children:(0,B.jsxs)("div",{className:"form-group",children:[(0,B.jsx)("label",{htmlFor:"rank",children:"Rank"}),(0,B.jsx)("input",{type:"number",id:"rank",name:"rank",value:f.values.rank,onChange:f.handleChange,onBlur:f.handleBlur,className:"form-control form-control-lg"})]})}),(0,B.jsx)("aside",{className:"col-md-4",children:(0,B.jsxs)("div",{className:"form-group",children:[(0,B.jsx)("label",{for:"facebookUrl",children:"facebookUrl"}),(0,B.jsx)("input",{type:"text",id:"facebookUrl",value:f.values.facebookUrl,onChange:f.handleChange,onBlur:f.handleBlur,className:"form-control form-control-lg",placeholder:"Enter facebookUrl"})]})}),(0,B.jsx)("aside",{className:"col-md-4",children:(0,B.jsxs)("div",{className:"form-group",children:[(0,B.jsx)("label",{for:"instagramUrl",children:"instagramUrl"}),(0,B.jsx)("input",{type:"text",id:"instagramUrl",value:f.values.instagramUrl,onChange:f.handleChange,onBlur:f.handleBlur,className:"form-control form-control-lg",placeholder:"Enter instagramUrl"})]})}),(0,B.jsx)("aside",{className:"col-md-4",children:(0,B.jsxs)("div",{className:"form-group",children:[(0,B.jsx)("label",{for:"merchantCikkaTransactionDefaultPercentage",children:"merchantCikkaTransactionDefaultPercentage"}),(0,B.jsx)("input",{type:"number",id:"merchantCikkaTransactionDefaultPercentage",value:f.values.merchantCikkaTransactionDefaultPercentage,onChange:f.handleChange,onBlur:f.handleBlur,className:"form-control form-control-lg",placeholder:"Enter merchantCikkaTransactionDefaultPercentage"})]})}),(0,B.jsx)("aside",{className:"col-md-4",children:(0,B.jsxs)("div",{className:"form-group",children:[(0,B.jsx)("label",{htmlFor:"merchantType",children:"merchantType"}),(0,B.jsxs)("select",{id:"merchantType",className:"form-control select2",onChange:f.handleChange,value:f.values.merchantType,children:[(0,B.jsx)("option",{value:"",children:"merchantType"}),(0,B.jsx)("option",{value:"COMMUNITY",children:"COMMUNITY"}),(0,B.jsx)("option",{value:"LISTED_BUSINESS",children:"LISTED_BUSINESS"}),(0,B.jsx)("option",{value:"MERCHANT_PARTNER",children:"MERCHANT_PARTNER"})]})]})}),(0,B.jsx)("aside",{className:"col-md-4",children:(0,B.jsxs)("div",{className:"form-group",children:[(0,B.jsx)("label",{for:"operationsInAWeek",children:"operationsInAWeek"}),(0,B.jsx)("input",{type:"number",id:"operationsInAWeek",value:f.values.operationsInAWeek,onChange:f.handleChange,onBlur:f.handleBlur,className:"form-control form-control-lg",placeholder:"Enter anniversaryDate"})]})}),(0,B.jsx)("aside",{className:"col-md-4",children:(0,B.jsxs)("div",{className:"form-group",children:[(0,B.jsx)("label",{for:"ownerEmail",children:"ownerEmail *"}),(0,B.jsx)("input",{type:"text",id:"ownerEmail",value:f.values.ownerEmail,onChange:f.handleChange,onBlur:f.handleBlur,className:"form-control form-control-lg",placeholder:"Enter ownerEmail"})]})}),(0,B.jsx)("aside",{className:"col-md-4",children:(0,B.jsxs)("div",{className:"form-group",children:[(0,B.jsx)("label",{for:"ownerMobile",children:"ownerMobile"}),(0,B.jsx)("input",{type:"number",id:"ownerMobile",value:f.values.ownerMobile,onChange:f.handleChange,onBlur:f.handleBlur,className:"form-control form-control-lg",placeholder:"Enter ownerMobile"})]})}),(0,B.jsx)("aside",{className:"col-md-4",children:(0,B.jsxs)("div",{className:"form-group",children:[(0,B.jsx)("label",{for:"ownerName",children:"ownerName"}),(0,B.jsx)("input",{type:"text",id:"ownerName",value:f.values.ownerName,onChange:f.handleChange,onBlur:f.handleBlur,className:"form-control form-control-lg",placeholder:"Enter ownerName"})]})}),(0,B.jsx)("aside",{className:"col-md-4",children:(0,B.jsxs)("div",{className:"form-group",children:[(0,B.jsx)("label",{for:"phoneNumber",children:"phoneNumber"}),(0,B.jsx)("input",{type:"number",id:"phoneNumber",value:f.values.phoneNumber,onChange:f.handleChange,onBlur:f.handleBlur,className:"form-control form-control-lg",placeholder:"Enter phoneNumber"})]})}),(0,B.jsx)("aside",{className:"col-md-4",children:(0,B.jsxs)("div",{className:"form-group",children:[(0,B.jsx)("label",{for:"representativeDesignation",children:"representativeDesignation"}),(0,B.jsx)("input",{type:"text",id:"representativeDesignation",value:f.values.representativeDesignation,onChange:f.handleChange,onBlur:f.handleBlur,className:"form-control form-control-lg",placeholder:"Enter representativeDesignation"})]})}),(0,B.jsx)("aside",{className:"col-md-4",children:(0,B.jsxs)("div",{className:"form-group",children:[(0,B.jsx)("label",{for:"representativeEmail",children:"representativeEmail"}),(0,B.jsx)("input",{type:"text",id:"representativeEmail",value:f.values.representativeEmail,onChange:f.handleChange,onBlur:f.handleBlur,className:"form-control form-control-lg",placeholder:"Enter representativeEmail"})]})}),(0,B.jsx)("aside",{className:"col-md-4",children:(0,B.jsxs)("div",{className:"form-group",children:[(0,B.jsx)("label",{for:"representativeMobile",children:"representativeMobile"}),(0,B.jsx)("input",{type:"number",id:"representativeMobile",value:f.values.representativeMobile,onChange:f.handleChange,onBlur:f.handleBlur,className:"form-control form-control-lg",placeholder:"Enter representativeMobile"})]})}),(0,B.jsx)("aside",{className:"col-md-4",children:(0,B.jsxs)("div",{className:"form-group",children:[(0,B.jsx)("label",{for:"representativeName",children:"representativeName"}),(0,B.jsx)("input",{type:"text",id:"representativeName",value:f.values.representativeName,onChange:f.handleChange,onBlur:f.handleBlur,className:"form-control form-control-lg",placeholder:"Enter representativeName"})]})}),(0,B.jsx)("aside",{className:"col-md-4",children:(0,B.jsxs)("div",{className:"form-group",children:[(0,B.jsx)("label",{for:"taxFileNumber",children:"taxFileNumber"}),(0,B.jsx)("input",{type:"text",id:"taxFileNumber",value:f.values.taxFileNumber,onChange:f.handleChange,onBlur:f.handleBlur,className:"form-control form-control-lg",placeholder:"Enter taxFileNumber"})]})}),(0,B.jsx)("aside",{className:"col-md-4",children:(0,B.jsxs)("div",{className:"form-group",children:[(0,B.jsx)("label",{for:"tradeName",children:"tradeName"}),(0,B.jsx)("input",{type:"text",id:"tradeName",value:f.values.tradeName,onChange:f.handleChange,onBlur:f.handleBlur,className:"form-control form-control-lg",placeholder:"Enter representativeMobile"}),(0,B.jsx)("div",{className:"invalid-feedback",children:f.errors.tradeName})]})}),(0,B.jsx)("aside",{className:"col-md-4",children:(0,B.jsxs)("div",{className:"form-group",children:[(0,B.jsx)("label",{for:"website",children:"website"}),(0,B.jsx)("input",{type:"text",id:"website",value:f.values.website,onChange:f.handleChange,onBlur:f.handleBlur,className:"form-control form-control-lg",placeholder:"Enter website"})]})}),t?null:(0,B.jsx)("aside",{className:"col-md-4",children:(0,B.jsxs)("div",{className:"form-group",children:[(0,B.jsx)("label",{htmlFor:"uploadImage",children:"Upload logo Image"}),(0,B.jsx)("input",{type:"file",id:"uploadImage",name:"uploadImage",onChange:x,className:"form-control form-control-lg"})]})}),t?null:(0,B.jsx)("aside",{className:"col-md-4",children:(0,B.jsxs)("div",{className:"form-group",children:[(0,B.jsx)("label",{htmlFor:"uploadImage",children:"Upload squareLogo Image"}),(0,B.jsx)("input",{type:"file",id:"uploadImage",name:"uploadImage",onChange:x,className:"form-control form-control-lg"})]})}),(0,B.jsx)("aside",{className:"col-md-4",children:(0,B.jsxs)("div",{className:"form-group",children:[(0,B.jsx)("label",{htmlFor:"status",children:"status"}),(0,B.jsxs)("select",{id:"status",className:"form-control select2",onChange:f.handleChange,value:f.values.status,children:[(0,B.jsx)("option",{value:"1",children:"Active"}),(0,B.jsx)("option",{value:"2",children:"Hold"}),(0,B.jsx)("option",{value:"0",children:"Deleted"})]})]})})]}),(0,B.jsx)("div",{className:"modal-footer d-flex justify-content-end",children:(0,B.jsx)("button",{type:"submit",className:"btn mb-2 btn-primary",children:"Save"})})]})},T=["alternativeNumber","anniversaryDate","joiningDate","bloodGroup","dateOfBirth","motherTongue","profileImagePath","proofNumber","proofPath","shortBio","isTest","email","firstName","gender","lastName","middleName","mobileNumber","password","religion","userType","categoryId","cityId"],S=function(e){return c.b.post("/merchants",e)},k=function(e){var a=e.handleSuccess,l=e.handleClose,n=(0,f.D)({mutationFn:S});return(0,B.jsxs)(g.Z,{show:!0,onHide:l,size:"lg",children:[(0,B.jsxs)(g.Z.Header,{closeButton:!1,children:[(0,B.jsx)(g.Z.Title,{children:"New Merchant"}),(0,B.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:l,children:(0,B.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),(0,B.jsx)(g.Z.Body,{children:(0,B.jsx)(I,{initialValues:{businessCategoryId:"",industryId:"",alternativeNumber:"",anniversaryDate:"",joiningDate:"",bloodGroup:"",dateOfBirth:"",motherTongue:"string",profileImagePath:"string",proofNumber:"string",proofPath:"string",shortBio:"string",isTest:!0,email:"",firstName:"",gender:"",lastName:"",middleName:"",mobileNumber:"",password:"",religion:"",userType:"",categoryId:"3fa85f64-5717-4562-b3fc-2c963f66afa6",cityId:"8734741e-3d92-4147-b74e-2f26d659fc3a",abn:"",acn:"",businessLegalName:"",businessStructure:"",dateOfOperation:"",dateOfRegistration:"",description:"",facebookUrl:"",instagramUrl:"",merchantCikkaTransactionDefaultPercentage:0,merchantType:"",operationsInAWeek:0,ownerEmail:"",ownerMobile:"",ownerName:"",phoneNumber:"",representativeDesignation:"",representativeEmail:"",representativeMobile:"",representativeName:"",taxFileNumber:"",tradeName:"",website:"",latitude:"",longitude:"",rank:"",status:""},isAdd:!0,onSubmit:function(e){var l,r=e.alternativeNumber,s=e.anniversaryDate,i=e.joiningDate,o=e.bloodGroup,t=e.dateOfBirth,d=e.motherTongue,c=e.profileImagePath,u=e.proofNumber,h=e.proofPath,m=e.shortBio,f=e.isTest,g=e.email,v=e.firstName,N=e.gender,b=e.lastName,C=e.middleName,y=e.mobileNumber,B=e.password,E=e.religion,I=e.userType,S=e.categoryId,k=e.cityId,w=(0,x.Z)(e,T);(l={alternativeNumber:r,anniversaryDate:s,joiningDate:i,bloodGroup:o,dateOfBirth:t,motherTongue:d,profileImagePath:c,proofNumber:u,proofPath:h,email:g,shortBio:m,isTest:f,firstName:v,gender:N,lastName:b,middleName:C,mobileNumber:y,password:B,religion:E,userType:I,categoryId:S,cityId:k},j.Z.post("".concat("https://app.cikka.com.au/api","/auth/sign-up"),l)).then((function(e){console.log("Sign-up successful:",e),function(e){return j.Z.post("".concat("https://app.cikka.com.au/api","/auth/sign-in"),e)}({email:g,password:B}).then((function(e){console.log("Sign-in successful:",e),n.mutate((0,p.Z)((0,p.Z)({},w),{},{userId:e.data.user.id,industryId:"94e2b3ff-a701-4d1b-98bd-bba921cbd11b",businessCategoryId:"76ff3ebe-f8f3-41e1-bf4d-f001b1fc15e8",logoId:"6fa8835f-5dea-46b7-bbd1-12e6b983f876",squareLogoId:"233fc20e-62cf-45f5-a576-6fa65a18c712"}),{onSuccess:function(e){console.log("Merchant creation successful:",e),a(e)}})})).catch((function(e){console.error("Sign-in error:",e)}))})).catch((function(e){console.error("Sign-up error:",e)}))}})})]})},w=["file"],D=function(e){return c.b.put("/merchants/".concat(e.id),e)},O=function(e){return c.b.post("/file-uploads",e).then((function(e){console.log("Full response from FileUpload:",e.data);var a=e.data.id;if(console.log("ID received from FileUpload:",a),a)return{id:a,response:e.data};throw new Error("No ID was received from FileUpload")}))},M=function(e){var a=e.handleSuccess,l=e.handleClose,n=e.id,r=(0,o.a)({queryKey:["merchant-details",n],queryFn:function(){return function(e){return c.b.get("/merchants/".concat(e)).then((function(e){return e.data}))}(n)}}),s=r.data,i=(0,f.D)({mutationFn:D}),t=function(e){i.mutate((0,p.Z)((0,p.Z)({},e),{},{id:n}),{onSuccess:a})};return(0,B.jsx)(B.Fragment,{children:s&&(0,B.jsxs)(g.Z,{show:!0,onHide:l,size:"lg",children:[(0,B.jsxs)(g.Z.Header,{closeButton:!1,children:[(0,B.jsx)(g.Z.Title,{children:"Edit Merchant"}),(0,B.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:l,children:(0,B.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),(0,B.jsx)(g.Z.Body,{children:(0,B.jsx)(I,{initialValues:s,onSubmit:function(e){var a=e.file,l=(0,x.Z)(e,w);console.log("handleSubmit called"),console.log("file:",a),a?function(e){var a=new FormData;return a.append("file",e),a.append("folderName","merchant"),c.b.post("/files/file-upload",a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){var a={documentId:"953b775a-2501-4965-9dce-10353b878292",fileName:e.data.fileName,filePath:e.data.url,folderName:"merchant"};return O(a)}))}(a).then((function(e){if(e){var a=e.id;if(a){console.log("Received ID:",a);var n=(0,p.Z)((0,p.Z)({},l),{},{logoId:a});t(n)}else console.log("No ID was received"),t(l)}else console.log("No result from FileUpload")})).catch((function(e){console.error("Error:",e)})):t(l)},isEdit:!0})})]})})},F=l(18),A=l(4849),Z=l(1087),R=function(){var e,a=(0,i.NL)(),l=(0,r.useState)(0),p=(0,n.Z)(l,2),x=p[0],f=p[1],g=(0,r.useState)(!1),j=(0,n.Z)(g,2),v=j[0],N=j[1],b=(0,r.useState)(!1),C=(0,n.Z)(b,2),y=C[0],E=C[1],I=(0,r.useState)(""),T=(0,n.Z)(I,2),S=T[0],w=T[1],D=(0,r.useState)(),O=(0,n.Z)(D,2),R=O[0],P=O[1],U=(0,r.useState)(""),L=(0,n.Z)(U,2),_=L[0],q=L[1],V=(0,r.useState)(""),H=(0,n.Z)(V,2),G=H[0],W=H[1],Y=(0,r.useState)(""),z=(0,n.Z)(Y,2),J=z[0],K=z[1],$=(0,r.useState)(""),Q=(0,n.Z)($,2),X=Q[0],ee=Q[1],ae=(0,r.useState)(!1),le=(0,n.Z)(ae,2),ne=le[0],re=(le[1],(0,o.a)({queryKey:["merchants",x,S,_,G,J,X],queryFn:function(){return function(e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,l=arguments.length>3?arguments[3]:void 0,n=arguments.length>4?arguments[4]:void 0,r=arguments.length>5?arguments[5]:void 0,s=arguments.length>6?arguments[6]:void 0,i="merchants?&pageIndex=".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,"&pageSize=").concat(a,"&search=").concat(l,"&sortBy=").concat(n,"&sortOrder=").concat(r,"&status=").concat(s);return e&&(i+="&merchantTypes=".concat(e)),c.b.get(i).then((function(e){return e.data}))}(S,x,20,_,G,J,X)},keepPreviousData:!0})),se=re.isLoading,ie=re.data,oe=re.refetch,te=(0,r.useState)([]),de=(0,n.Z)(te,2),ce=de[0],ue=de[1];(0,r.useEffect)((function(){c.b.get("/users").then((function(e){return e.data})).then((function(e){ue(e),console.log(e)})).catch((function(e){console.error("Error fetching categories:",e)}))}),[]);var he=function(e){var a=e.split("?")[1].split("=")[1];return"https://app.cikka.com.au/api/files/file-preview?fileName=".concat(a,"&folderName=").concat("merchant")},me=function(e){var a=e.split("?")[1].split("=")[1];return"https://app.cikka.com.au/api/files/file-preview?fileName=".concat(a,"&folderName=").concat("merchant")};return(0,B.jsxs)(B.Fragment,{children:[ne?(0,B.jsxs)(F.Z,{variant:"danger",onClose:function(){return ne(!1)},children:[(0,B.jsx)(F.Z.Heading,{children:"Server Error!"}),(0,B.jsx)("p",{children:"Can not user"})]}):null,(0,B.jsx)("div",{className:"row justify-content-center",children:(0,B.jsxs)("div",{className:"col-12",children:[(0,B.jsxs)("div",{className:"row heading-add",children:[(0,B.jsx)("aside",{className:"ml-2 mr-2",children:(0,B.jsx)("h2",{className:"mb-0 page-title",style:{display:"inline"},children:"Merchants"})}),(0,B.jsx)("form",{className:"form-inline mr-auto searchform",children:(0,B.jsx)("input",{className:"form-control mr-sm-2 border-0",onChange:function(e){var a=e.target.value;q(a),oe()},type:"text",style:{background:"white"},placeholder:"Search","aria-label":"Search"})}),(0,B.jsx)("aside",{className:"col-sm-2 mt-2  add-sec",children:(0,B.jsx)("button",{className:"bttn",onClick:function(){return N(!0)},children:"Add"})})]}),(0,B.jsxs)("div",{className:"d-flex flex-wrap",children:[(0,B.jsx)("div",{className:"col-sm-4 mt-2",children:(0,B.jsxs)("select",{className:"form-control",onChange:function(e){var a=e.target.value;w(a),console.log(a),oe()},style:{background:"white"},"aria-label":"select",children:[(0,B.jsx)("option",{value:"",children:"Choose a Merchant Type"}),(0,B.jsx)("option",{value:"COMMUNITY",children:"COMMUNITY"}),(0,B.jsx)("option",{value:"LISTED_BUSINESS",children:"LISTED_BUSINESS"}),(0,B.jsx)("option",{value:"MERCHANT_PARTNER",children:"MERCHANT_PARTNER"})]})}),(0,B.jsx)("div",{className:"col-sm-2 mt-2",children:(0,B.jsxs)("select",{className:"form-control",onChange:function(e){var a=e.target.value;W(a),console.log(a),oe()},style:{background:"white"},"aria-label":"select",children:[(0,B.jsx)("option",{value:"",children:"sortBy"}),(0,B.jsx)("option",{value:"id",children:"ID"})]})}),(0,B.jsx)("div",{className:"col-sm-2 mt-2",children:(0,B.jsxs)("select",{className:"form-control",onChange:function(e){var a=e.target.value;K(a),console.log(a),oe()},style:{background:"white"},"aria-label":"select",children:[(0,B.jsx)("option",{value:"",children:"sortOrder"}),(0,B.jsx)("option",{value:"ASC",children:"ASC"}),(0,B.jsx)("option",{value:"DESC",children:"DESC"})]})}),(0,B.jsx)("div",{className:"col-sm-2 mt-2",children:(0,B.jsxs)("select",{className:"form-control",onChange:function(e){var a=e.target.value;ee(a),console.log(a),oe()},style:{background:"white"},"aria-label":"select",children:[(0,B.jsx)("option",{value:"",children:"STATUS"}),(0,B.jsx)("option",{value:"1",children:"Active"}),(0,B.jsx)("option",{value:"2",children:"Hold"}),(0,B.jsx)("option",{value:"0",children:"Deleted"})]})})]}),(0,B.jsx)("div",{className:"row my-2",children:(0,B.jsx)("div",{className:"col-md-12",children:(0,B.jsx)("div",{className:"card shadow",children:(0,B.jsxs)("div",{className:"card-body",children:[(0,B.jsx)("div",{className:"resp-table merchants-tb",children:(0,B.jsxs)("table",{className:"table",children:[(0,B.jsx)("thead",{children:(0,B.jsxs)("tr",{children:[(0,B.jsx)("th",{children:"ID"}),(0,B.jsx)("th",{children:"Actions"}),(0,B.jsx)("th",{children:"Status"}),(0,B.jsx)("th",{children:"Circle Logo"}),(0,B.jsx)("th",{children:"SquareLogo"}),(0,B.jsx)("th",{children:"Rank"}),(0,B.jsx)("th",{children:"MerchantType"}),(0,B.jsx)("th",{children:"Industry"}),(0,B.jsx)("th",{children:"BusinessLegalName"}),(0,B.jsx)("th",{children:"MerchantIdentifier"}),(0,B.jsx)("th",{children:"MerchantSequence"}),(0,B.jsx)("th",{children:"TradeName"}),(0,B.jsx)("th",{children:"Description"}),(0,B.jsx)("th",{children:"OperationsInAWeek"}),(0,B.jsx)("th",{children:"abn"}),(0,B.jsx)("th",{children:"ACN"}),(0,B.jsx)("th",{children:"DateOfRegistration"}),(0,B.jsx)("th",{children:"DateOfOperation"}),(0,B.jsx)("th",{children:"TaxFileNumber"}),(0,B.jsx)("th",{children:"Website"}),(0,B.jsx)("th",{children:"Facebook-URL"}),(0,B.jsx)("th",{children:"Instagram-URL"}),(0,B.jsx)("th",{children:"PhoneNumber"}),(0,B.jsx)("th",{children:"OwnerName"}),(0,B.jsx)("th",{children:"OwnerMobile"}),(0,B.jsx)("th",{children:"OwnerEmail"}),(0,B.jsx)("th",{children:"RepresentativeName"}),(0,B.jsx)("th",{children:"RepresentativeDesignation"}),(0,B.jsx)("th",{children:"RepresentativeMobile"}),(0,B.jsx)("th",{children:"RepresentativeEmail"}),(0,B.jsx)("th",{children:"MerchantCikkaTransactionDefaultPercentage"}),(0,B.jsx)("th",{children:"CreatedBy"}),(0,B.jsx)("th",{children:"UpdatedBy"}),(0,B.jsx)("th",{children:"CreatedAt"}),(0,B.jsx)("th",{children:"UpdatedAt"})]})}),(0,B.jsx)("tbody",{children:se?(0,B.jsx)("tr",{children:(0,B.jsx)("td",{rowSpan:"10",colSpan:"13",children:(0,B.jsx)("div",{className:"text-center py-5",children:(0,B.jsx)(A.Z,{animation:"border"})})})}):null===ie||void 0===ie||null===(e=ie.data)||void 0===e?void 0:e.map((function(e){var a,l,n,r,i;return(0,B.jsxs)("tr",{children:[(0,B.jsx)("td",{children:e.id}),(0,B.jsxs)("td",{className:"actions",children:[(0,B.jsx)(t.d,{onClick:(i=e.id,function(){P(i),E(!0)})}),(0,B.jsx)(Z.OL,{to:"/ViewMerchants/".concat(e.userId),children:(0,B.jsx)(d.O,{})})]}),(0,B.jsx)("td",{children:(0,B.jsx)(m.q,{code:e.status})}),(0,B.jsx)("td",{children:e.logo&&e.logo.filePath?(0,B.jsx)("img",{src:he(e.logo.filePath),alt:"logo",className:"table-logo"}):(0,B.jsx)("img",{src:s,alt:"demoLogo",className:"table-logo"})}),(0,B.jsx)("td",{children:e.squareLogo&&e.squareLogo.filePath?(0,B.jsx)("img",{src:me(e.squareLogo.filePath),alt:"logo",className:"table-logo"}):(0,B.jsx)("img",{src:s,alt:"demoLogo",className:"table-logo"})}),(0,B.jsx)("td",{children:e.rank}),(0,B.jsx)("td",{children:e.merchantType}),(0,B.jsxs)("td",{children:[" ",e.industry.name]}),(0,B.jsx)("td",{children:_&&e.businessLegalName.toLowerCase().includes(_.toLowerCase())?(0,B.jsx)("span",{className:"highlighted",children:e.businessLegalName}):e.businessLegalName}),(0,B.jsx)("td",{children:e.merchantIdentifier}),(0,B.jsx)("td",{children:e.merchantSequence}),(0,B.jsx)("td",{children:e.tradeName}),(0,B.jsx)("td",{children:e.description}),(0,B.jsx)("td",{children:e.operationsInAWeek}),(0,B.jsx)("td",{children:e.abn}),(0,B.jsx)("td",{children:e.acn}),(0,B.jsx)("td",{children:e.dateOfRegistration}),(0,B.jsx)("td",{children:e.dateOfOperation}),(0,B.jsx)("td",{children:e.taxFileNumber}),(0,B.jsx)("td",{children:e.website}),(0,B.jsx)("td",{children:e.facebookUrl}),(0,B.jsx)("td",{children:e.instagramUrl}),(0,B.jsx)("td",{children:e.phoneNumber}),(0,B.jsx)("td",{children:e.ownerName}),(0,B.jsx)("td",{children:e.ownerMobile}),(0,B.jsx)("td",{children:e.ownerEmail}),(0,B.jsx)("td",{children:e.representativeName}),(0,B.jsx)("td",{children:e.representativeDesignation}),(0,B.jsx)("td",{children:e.representativeMobile}),(0,B.jsx)("td",{children:e.representativeEmail}),(0,B.jsx)("td",{children:e.merchantCikkaTransactionDefaultPercentage}),(0,B.jsx)("td",{children:(null===ce||void 0===ce||null===(a=ce.data)||void 0===a||null===(l=a.find((function(a){return a.id===e.createdBy})))||void 0===l?void 0:l.firstName)||"N/A"}),(0,B.jsx)("td",{children:(null===ce||void 0===ce||null===(n=ce.data)||void 0===n||null===(r=n.find((function(a){return a.id===e.updatedBy})))||void 0===r?void 0:r.firstName)||"N/A"}),(0,B.jsx)("td",{children:(0,B.jsx)(h.o,{dateTime:e.createdAt})}),(0,B.jsx)("td",{children:(0,B.jsx)(h.o,{dateTime:e.updatedAt})})]},e.id)}))})]})}),se?null:(0,B.jsx)(u.$,{page:x,pageSize:20,data:ie,setPage:f})]})})})})]})}),v?(0,B.jsx)(k,{handleSuccess:function(){N(!1),oe()},handleClose:function(){return N(!1)}}):null,y?(0,B.jsx)(M,{id:R,handleSuccess:function(){a.invalidateQueries({queryKey:["merchant-details",R]}),E(!1),oe()},handleClose:function(){return E(!1)}}):null]})}}}]);
//# sourceMappingURL=931.fe124702.chunk.js.map