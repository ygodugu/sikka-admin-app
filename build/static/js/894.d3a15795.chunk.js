"use strict";(self.webpackChunksikka_admin_app=self.webpackChunksikka_admin_app||[]).push([[894],{2806:function(e,s,a){a.d(s,{b:function(){return l}});var l=a(1243).Z.create({baseURL:"https://app.cikka.com.au/api"});l.interceptors.request.use((function(e){var s=localStorage.getItem("token");return s&&(e.headers.Authorization="Bearer "+s),e}),(function(e){return Promise.reject(e)})),l.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)}))},2894:function(e,s,a){a.r(s),a.d(s,{Dashboard:function(){return j}});var l=a(9439),c=a(4165),d=a(5861),i=a(2791),n=a(550),r=a(3623),t=a(2917),o=a(2806),h=a(184),m=function(e){var s=e.data,a=(0,i.useRef)(null),l=(0,i.useRef)(null);return(0,i.useEffect)((function(){if(a&&a.current&&s){for(var e=a.current.getContext("2d"),c=new Date,d=[],i=[],r=function(){var e=new Date(c);e.setDate(e.getDate()-t);var a=e.toLocaleDateString("en-US",{weekday:"long"});d.push(a);var l=s.data.filter((function(s){return new Date(s.createdAt.split("T")[0]).toDateString()===e.toDateString()}));i.push(l.length)},t=4;t>=0;t--)r();l.current&&l.current.destroy(),l.current=new n.ZP(e,{type:"line",data:{labels:d,datasets:[{label:"Line Chart",data:i,borderColor:"rgba(75, 192, 192, 1)",backgroundColor:"rgba(75, 192, 192, 0.2)",borderWidth:1,lineTension:.4}]},options:{responsive:!0,plugins:{legend:{display:!1}},scales:{x:{display:!1},y:{display:!1}},animations:{radius:{duration:400,easing:"linear",loop:function(e){return e.active}}},hoverRadius:12,hoverBackgroundColor:"#70300D",interaction:{mode:"nearest",intersect:!1,axis:"x"},tooltip:{callbacks:{label:function(e){var s=e.dataset.label||"";return s&&(s+=": "),null!==e.parsed.y&&(s+=e.parsed.y.toFixed(2)),s}}}}})}}),[s]),(0,h.jsx)("div",{children:(0,h.jsx)("canvas",{ref:a,width:"100",height:"40"})})},x=a(26),v=a(1087),j=function(){var e,s,a,n,j,u,N,b,g,p,f,w,C=(0,t.a)({queryKey:["users","vouchers","merchants","cikka-purchases","cikka-transactions","business-categories","categories","industries","countries","states","cities","documents","events"],queryFn:function(){var e=(0,d.Z)((0,c.Z)().mark((function e(){var s,a,l,d,i,n,r,t,h,m,x,v,j;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.b.get("/users?pageIndex=0&pageSize=2000").then((function(e){return e.data}));case 2:return s=e.sent,e.next=5,o.b.get("/vouchers").then((function(e){return e.data}));case 5:return a=e.sent,e.next=8,o.b.get("/merchants?pageIndex=0&pageSize=200").then((function(e){return e.data}));case 8:return l=e.sent,e.next=11,o.b.get("/cikka-purchases").then((function(e){return e.data}));case 11:return d=e.sent,e.next=14,o.b.get("/cikka-transactions").then((function(e){return e.data}));case 14:return i=e.sent,e.next=17,o.b.get("/business-categories").then((function(e){return e.data}));case 17:return n=e.sent,e.next=20,o.b.get("/categories").then((function(e){return e.data}));case 20:return r=e.sent,e.next=23,o.b.get("/industries").then((function(e){return e.data}));case 23:return t=e.sent,e.next=26,o.b.get("/countries").then((function(e){return e.data}));case 26:return h=e.sent,e.next=29,o.b.get("/states").then((function(e){return e.data}));case 29:return m=e.sent,e.next=32,o.b.get("/cities").then((function(e){return e.data}));case 32:return x=e.sent,e.next=35,o.b.get("/documents").then((function(e){return e.data}));case 35:return v=e.sent,e.next=38,o.b.get("/events").then((function(e){return e.data}));case 38:return j=e.sent,e.abrupt("return",[s,a,l,d,i,n,r,t,h,m,x,v,j]);case 40:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}),y=C.isLoading,D=C.data,L={labels:["100","200","300","400","500","600","700","800","900","1000"],datasets:[{label:"Red Dataset",data:[860,1140,60,1060,1070,1110,1330,2210,7830,2478],backgroundColor:"rgba(247, 42, 45, 0.5)",borderColor:"red",lineTension:.4,fill:!0},{label:"Green Dataset",data:[1600,1700,1700,1900,2e3,2700,4e3,5e3,6e3,7e3],backgroundColor:"rgba(69, 222, 89, 0.5)",borderColor:"green",lineTension:.4,fill:!0},{label:"Blue Dataset",data:[300,700,2e3,5e3,6e3,4e3,2e3,1e3,200,100],backgroundColor:"rgba(17, 68, 150, 0.5)",borderColor:"blue",lineTension:.4,fill:!0},{label:"Black Dataset",data:[200,500,1e3,3e3,4e3,5e3,2e3,2e3,700,9e3],backgroundColor:"rgba(128, 0, 128, 0.5)",borderColor:"purple",lineTension:.4,fill:!0}]},O=(0,i.useState)(""),k=(0,l.Z)(O,2),R=k[0],q=k[1];(0,i.useEffect)((function(){q(function(){var e=new Date,s=e.getDate(),a=e.getMonth()+1;return(s<10?"0"+s:s)+"/"+(a<10?"0"+a:a)+"/"+e.getFullYear().toString().slice(-2)}())}),[]);var S=(0,i.useState)(0),V=(0,l.Z)(S,2),T=V[0],M=V[1],A=(0,i.useState)(0),B=(0,l.Z)(A,2),E=B[0],U=B[1];(0,i.useEffect)((function(){if(!y&&D){var e=(new Date).toISOString().slice(0,10);console.log("Current Date:",e),console.log("Data:",D),console.log("User Data:",D[0]);var s=D[0].data;console.log("Users Data:",s);var a=s.filter((function(s){var a,l=null===(a=s.createdAt)||void 0===a?void 0:a.slice(0,10);return console.log("User Created At Date:",l),l===e})).length;console.log("Today's Registered Users Count:",a),M(a);var l=D[2].data;console.log("Merchants Data:",l);var c=l.filter((function(s){var a,l=null===(a=s.createdAt)||void 0===a?void 0:a.slice(0,10);return console.log("Merchant Created At Date:",l),l===e})).length;console.log("Today's Registered Merchants Count:",c),U(c)}}),[y,D]);var Z=0,I=D&&D.length>0&&D[0];(console.log(I),I)&&(Z=I.data.filter((function(e){return"MEMBER"===e.userType})).length);console.log(Z);var P=Math.max(Z-60,0);return 0===P&&(P=""),console.log(P),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:"row justify-content-center",children:(0,h.jsxs)("div",{className:"col-12",children:[(0,h.jsx)("div",{className:"row align-items-center mb-2",children:(0,h.jsx)("div",{className:"col",children:(0,h.jsx)("h2",{className:"h5 page-title",children:"WELCOME TO DASHBOARD"})})}),(0,h.jsxs)("div",{className:"row db-cards items-align-baseline",children:[(0,h.jsx)("div",{className:"col-md-12 col-lg-4",children:(0,h.jsx)("div",{className:"card eq-card mb-4",children:(0,h.jsx)("div",{className:"card-body",children:(0,h.jsxs)("div",{className:"row",children:[(0,h.jsxs)("div",{className:"col-4",children:[(0,h.jsx)("p",{className:"mb-1",children:(0,h.jsx)("strong",{children:"Users"})}),(0,h.jsx)("h4",{className:"mb-0",children:P}),(0,h.jsx)("div",{className:"mt-3",children:(0,h.jsx)("div",{children:R})})]}),y?(0,h.jsx)("div",{className:"col-8",children:(0,h.jsx)(x.OR,{height:120,rounded:!0})}):(0,h.jsx)("div",{className:"col-8",children:(0,h.jsx)(v.OL,{to:"/ViewUsersLineChart",children:(0,h.jsx)("div",{children:(0,h.jsx)(m,{data:null===D||void 0===D?void 0:D[0]})})})})]})})})}),(0,h.jsx)("div",{className:"col-md-12 col-lg-4",children:(0,h.jsx)("div",{className:"card eq-card mb-4",children:(0,h.jsx)("div",{className:"card-body",children:(0,h.jsxs)("div",{className:"row",children:[(0,h.jsxs)("div",{className:"col-5",children:[(0,h.jsx)("p",{className:"mb-1",children:(0,h.jsx)("strong",{children:"Vouchers"})}),(0,h.jsx)("h4",{className:"mb-0",children:null===D||void 0===D||null===(e=D[1])||void 0===e?void 0:e.count})]}),y?(0,h.jsx)("div",{className:"col-7",children:(0,h.jsx)(x.OR,{height:120,rounded:!0})}):(0,h.jsx)("div",{className:"col-7",children:(0,h.jsx)(v.OL,{to:"/ViewVouchersLineChart",children:(0,h.jsx)("div",{children:(0,h.jsx)(m,{data:null===D||void 0===D?void 0:D[1]})})})})]})})})}),(0,h.jsx)("div",{className:"col-md-12 col-lg-4",children:(0,h.jsx)("div",{className:"card eq-card mb-4",children:(0,h.jsx)("div",{className:"card-body",children:(0,h.jsxs)("div",{className:"row",children:[(0,h.jsxs)("div",{className:"col-5",children:[(0,h.jsx)("p",{className:"mb-1",children:(0,h.jsx)("strong",{children:"Merchants"})}),(0,h.jsx)("h4",{className:"mb-0",children:null===D||void 0===D||null===(s=D[2])||void 0===s?void 0:s.count})]}),y?(0,h.jsx)("div",{className:"col-7",children:(0,h.jsx)(x.OR,{height:120,rounded:!0})}):(0,h.jsx)("div",{className:"col-7",children:(0,h.jsx)(v.OL,{to:"/ViewMerchantsLineChart",children:(0,h.jsx)("div",{children:(0,h.jsx)(m,{data:null===D||void 0===D?void 0:D[2]})})})})]})})})}),(0,h.jsx)("div",{className:"col-md-12 col-lg-4",children:(0,h.jsx)("div",{className:"card eq-card mb-4",children:(0,h.jsx)("div",{className:"card-body",children:(0,h.jsxs)("div",{className:"row",children:[(0,h.jsxs)("div",{className:"col-5",children:[(0,h.jsx)("p",{className:"mb-1",children:(0,h.jsx)("strong",{children:"Purchases"})}),(0,h.jsx)("h4",{className:"mb-0",children:null===D||void 0===D||null===(a=D[3])||void 0===a?void 0:a.count})]}),y?(0,h.jsx)("div",{className:"col-7 mb-0",children:(0,h.jsx)(x.OR,{height:120,rounded:!0})}):(0,h.jsx)("div",{className:"col-7 mb-0",children:(0,h.jsx)(v.OL,{to:"/ViewPurchasesLineChart",children:(0,h.jsx)("div",{children:(0,h.jsx)(m,{data:null===D||void 0===D?void 0:D[3]})})})})]})})})}),(0,h.jsx)("div",{className:"col-md-12 col-lg-4",children:(0,h.jsx)("div",{className:"card eq-card mb-4",children:(0,h.jsx)("div",{className:"card-body",children:(0,h.jsxs)("div",{className:"row",children:[(0,h.jsxs)("div",{className:"col-5",children:[(0,h.jsx)("p",{className:"mb-1",children:(0,h.jsx)("strong",{children:"Transactions"})}),(0,h.jsx)("h4",{className:"mb-0",children:null===D||void 0===D||null===(n=D[4])||void 0===n?void 0:n.count})]}),y?(0,h.jsx)("div",{className:"col-7 mb-0",children:(0,h.jsx)(x.OR,{height:120,rounded:!0})}):(0,h.jsx)("div",{className:"col-7 mb-0",children:(0,h.jsx)(v.OL,{to:"/ViewTransactionsLineChart",children:(0,h.jsx)("div",{children:(0,h.jsx)(m,{data:null===D||void 0===D?void 0:D[4]})})})})]})})})}),(0,h.jsx)("div",{className:"col-md-12 col-lg-4",children:(0,h.jsx)("div",{className:"card eq-card mb-4",children:(0,h.jsx)("div",{className:"card-body",children:(0,h.jsxs)("div",{className:"row",children:[(0,h.jsxs)("div",{className:"col-5",children:[(0,h.jsx)("p",{className:"mb-1",children:(0,h.jsx)("strong",{children:"Business Categories"})}),(0,h.jsx)("h4",{className:"mb-0",children:null===D||void 0===D||null===(j=D[5])||void 0===j?void 0:j.count})]}),y?(0,h.jsx)("div",{className:"col-7 mb-0",children:(0,h.jsx)(x.OR,{height:120,rounded:!0})}):(0,h.jsx)("div",{className:"col-7 mb-0",children:(0,h.jsx)(v.OL,{to:"/ViewBusinessCategoriesLineChart",children:(0,h.jsx)("div",{children:(0,h.jsx)(m,{data:null===D||void 0===D?void 0:D[5]})})})})]})})})}),(0,h.jsx)("div",{className:"col-md-12 col-lg-4",children:(0,h.jsx)("div",{className:"card eq-card mb-4",children:(0,h.jsx)("div",{className:"card-body",children:(0,h.jsxs)("div",{className:"row",children:[(0,h.jsxs)("div",{className:"col-5",children:[(0,h.jsx)("p",{className:"mb-1",children:(0,h.jsx)("strong",{children:"Categories"})}),(0,h.jsx)("h4",{className:"mb-0",children:null===D||void 0===D||null===(u=D[6])||void 0===u?void 0:u.count})]}),y?(0,h.jsx)("div",{className:"col-7 mb-0",children:(0,h.jsx)(x.OR,{height:120,rounded:!0})}):(0,h.jsx)("div",{className:"col-7 mb-0",children:(0,h.jsx)(v.OL,{to:"/ViewCategoriesLineChart",children:(0,h.jsx)("div",{children:(0,h.jsx)(m,{data:null===D||void 0===D?void 0:D[6]})})})})]})})})}),(0,h.jsx)("div",{className:"col-md-12 col-lg-4",children:(0,h.jsx)("div",{className:"card eq-card mb-4",children:(0,h.jsx)("div",{className:"card-body",children:(0,h.jsxs)("div",{className:"row",children:[(0,h.jsxs)("div",{className:"col-4",children:[(0,h.jsx)("p",{className:"mb-1",children:(0,h.jsx)("strong",{children:"Industries"})}),(0,h.jsx)("h4",{className:"mb-0",children:null===D||void 0===D||null===(N=D[7])||void 0===N?void 0:N.count})]}),y?(0,h.jsx)("div",{className:"col-8 mb-0",children:(0,h.jsx)(x.OR,{height:120,rounded:!0})}):(0,h.jsx)("div",{className:"col-8 mb-0",children:(0,h.jsx)(v.OL,{to:"/ViewIndustriesLineChart",children:(0,h.jsx)("div",{children:(0,h.jsx)(m,{data:null===D||void 0===D?void 0:D[7]})})})})]})})})}),(0,h.jsx)("div",{className:"col-md-12 col-lg-4",children:(0,h.jsx)("div",{className:"card eq-card mb-4",children:(0,h.jsx)("div",{className:"card-body",children:(0,h.jsxs)("div",{className:"row",children:[(0,h.jsxs)("div",{className:"col-5",children:[(0,h.jsx)("p",{className:"mb-1",children:(0,h.jsx)("strong",{children:"Countries"})}),(0,h.jsx)("h4",{className:"mb-0",children:null===D||void 0===D||null===(b=D[8])||void 0===b?void 0:b.count})]}),y?(0,h.jsx)("div",{className:"col-7 mb-0",children:(0,h.jsx)(x.OR,{height:120,rounded:!0})}):(0,h.jsx)("div",{className:"col-7 mb-0",children:(0,h.jsx)(v.OL,{to:"/ViewCountriesLineChart",children:(0,h.jsx)("div",{children:(0,h.jsx)(m,{data:null===D||void 0===D?void 0:D[8]})})})})]})})})}),(0,h.jsx)("div",{className:"col-md-12 col-lg-4",children:(0,h.jsx)("div",{className:"card eq-card mb-4",children:(0,h.jsx)("div",{className:"card-body",children:(0,h.jsxs)("div",{className:"row",children:[(0,h.jsxs)("div",{className:"col-4",children:[(0,h.jsx)("p",{className:"mb-1",children:(0,h.jsx)("strong",{children:"States"})}),(0,h.jsx)("h4",{className:"mb-0",children:null===D||void 0===D||null===(g=D[9])||void 0===g?void 0:g.count})]}),y?(0,h.jsx)("div",{className:"col-8 mb-0",children:(0,h.jsx)(x.OR,{height:120,rounded:!0})}):(0,h.jsx)("div",{className:"col-8 mb-0",children:(0,h.jsx)(v.OL,{to:"/ViewStatesLineChart",children:(0,h.jsx)("div",{children:(0,h.jsx)(m,{data:null===D||void 0===D?void 0:D[9]})})})})]})})})}),(0,h.jsx)("div",{className:"col-md-12 col-lg-4",children:(0,h.jsx)("div",{className:"card eq-card mb-4",children:(0,h.jsx)("div",{className:"card-body",children:(0,h.jsxs)("div",{className:"row",children:[(0,h.jsxs)("div",{className:"col-4",children:[(0,h.jsx)("p",{className:"mb-1",children:(0,h.jsx)("strong",{children:"Cities"})}),(0,h.jsx)("h4",{className:"mb-0",children:null===D||void 0===D||null===(p=D[10])||void 0===p?void 0:p.count})]}),y?(0,h.jsx)("div",{className:"col-8 mb-0",children:(0,h.jsx)(x.OR,{height:120,rounded:!0})}):(0,h.jsx)("div",{className:"col-8 mb-0",children:(0,h.jsx)(v.OL,{to:"/ViewCitiesLineChart",children:(0,h.jsx)("div",{children:(0,h.jsx)(m,{data:null===D||void 0===D?void 0:D[10]})})})})]})})})}),(0,h.jsx)("div",{className:"col-md-12 col-lg-4",children:(0,h.jsx)("div",{className:"card eq-card mb-4",children:(0,h.jsx)("div",{className:"card-body",children:(0,h.jsxs)("div",{className:"row",children:[(0,h.jsxs)("div",{className:"col-5",children:[(0,h.jsx)("p",{className:"mb-1",children:(0,h.jsx)("strong",{children:"Documents"})}),(0,h.jsx)("h4",{className:"mb-0",children:null===D||void 0===D||null===(f=D[11])||void 0===f?void 0:f.count})]}),y?(0,h.jsx)("div",{className:"col-7 mb-0",children:(0,h.jsx)(x.OR,{height:120,rounded:!0})}):(0,h.jsx)("div",{className:"col-7 mb-0",children:(0,h.jsx)(v.OL,{to:"/ViewDocumentsLineChart",children:(0,h.jsx)("div",{children:(0,h.jsx)(m,{data:null===D||void 0===D?void 0:D[11]})})})})]})})})}),(0,h.jsx)("div",{className:"col-md-12 col-lg-4",children:(0,h.jsx)("div",{className:"card eq-card mb-4",children:(0,h.jsx)("div",{className:"card-body",children:(0,h.jsxs)("div",{className:"row",children:[(0,h.jsxs)("div",{className:"col-4",children:[(0,h.jsx)("p",{className:"mb-1",children:(0,h.jsx)("strong",{children:"Events"})}),(0,h.jsx)("h4",{className:"mb-0",children:null===D||void 0===D||null===(w=D[12])||void 0===w?void 0:w.count})]}),y?(0,h.jsx)("div",{className:"col-8 mb-0",children:(0,h.jsx)(x.OR,{height:120,rounded:!0})}):(0,h.jsx)("div",{className:"col-8 mb-0",children:(0,h.jsx)(v.OL,{to:"/ViewEventsLineChart",children:(0,h.jsx)("div",{children:(0,h.jsx)(m,{data:null===D||void 0===D?void 0:D[12]})})})})]})})})}),(0,h.jsx)("div",{className:"col-md-12 col-lg-4",children:(0,h.jsx)("div",{className:"card eq-card mb-4",children:(0,h.jsx)("div",{className:"card-body",children:(0,h.jsx)("div",{className:"row",children:(0,h.jsxs)("div",{className:"col-8",children:[(0,h.jsx)("p",{className:"mb-1",children:(0,h.jsx)("strong",{children:"Today Register User's "})}),(0,h.jsx)("h4",{className:"mb-3",children:T}),(0,h.jsx)("div",{children:R})]})})})})}),(0,h.jsx)("div",{className:"col-md-12 col-lg-4",children:(0,h.jsx)("div",{className:"card eq-card mb-4",children:(0,h.jsx)("div",{className:"card-body",children:(0,h.jsx)("div",{className:"row",children:(0,h.jsxs)("div",{className:"col-10",children:[(0,h.jsx)("p",{className:"mb-1",children:(0,h.jsx)("strong",{children:"Today Register Merchant's "})}),(0,h.jsxs)("h4",{className:"mb-3",children:[E," "]}),(0,h.jsx)("div",{children:R})]})})})})})]})]})}),(0,h.jsx)("div",{className:"container-fluid",children:(0,h.jsx)("div",{className:"row",children:(0,h.jsx)("div",{className:"col-md-12",children:(0,h.jsxs)("div",{className:"card",children:[(0,h.jsx)("div",{className:"card-header",children:"Analytics Chat"}),(0,h.jsx)("div",{className:"card-body",children:(0,h.jsx)(r.x1,{data:L,options:{responsive:!0,scales:{x:{type:"category",grid:{display:!1}}},plugins:{legend:{position:"top"},title:{display:!0}}},className:"p-3"})}),(0,h.jsxs)("div",{className:"card-footer",children:[(0,h.jsxs)("div",{className:"row",children:[(0,h.jsx)("div",{className:"col-md-4",children:(0,h.jsx)("p",{children:"Red Dataset:"})}),(0,h.jsx)("div",{className:"col-md-8",children:(0,h.jsx)("p",{children:"Your description here."})})]}),(0,h.jsxs)("div",{className:"row",children:[(0,h.jsx)("div",{className:"col-md-4",children:(0,h.jsx)("p",{children:"Green Dataset:"})}),(0,h.jsx)("div",{className:"col-md-8",children:(0,h.jsx)("p",{children:"Your description here."})})]}),(0,h.jsxs)("div",{className:"row",children:[(0,h.jsx)("div",{className:"col-md-4",children:(0,h.jsx)("p",{children:"Blue Dataset:"})}),(0,h.jsx)("div",{className:"col-md-8",children:(0,h.jsx)("p",{children:"Your description here."})})]})]})]})})})})]})}}}]);
//# sourceMappingURL=894.d3a15795.chunk.js.map