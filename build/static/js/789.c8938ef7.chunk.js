"use strict";(self.webpackChunksikka_admin_app=self.webpackChunksikka_admin_app||[]).push([[789],{2806:function(e,a,n){n.d(a,{b:function(){return t}});var t=n(1243).Z.create({baseURL:"https://app.cikka.com.au/api"});t.interceptors.request.use((function(e){var a=localStorage.getItem("token");return a&&(e.headers.Authorization="Bearer "+a),e}),(function(e){return Promise.reject(e)})),t.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)}))},7883:function(e,a,n){n.d(a,{$:function(){return i}});var t=n(3637),s=n(184),i=function(e){var a=e.page,n=e.pageSize,i=e.data,r=e.setPage;return(0,s.jsxs)("div",{className:"row pagin-sec",children:[(0,s.jsx)("div",{className:"col-sm-12 col-md-5",children:(0,s.jsx)("div",{className:"dataTables_info",role:"status","aria-live":"polite",children:"Showing ".concat(a*n+1," to  ").concat(a*n+i.data.length," of ").concat(i.count," entries")})}),(0,s.jsx)("div",{className:"col-sm-12 col-md-7",style:{display:"flex",justifyContent:"flex-end"},children:(0,s.jsx)(t.Z,{itemClass:"page-item",prevPageText:"Previous",nextPageText:"Next",linkClass:"page-link",activePage:a+1,itemsCountPerPage:n,totalItemsCount:i.count,pageRangeDisplayed:5,hideFirstLastPages:!0,onChange:function(e){return r(e-1)}})})]})}},1629:function(e,a,n){n.d(a,{o:function(){return s}});var t=n(184),s=function(e){var a=e.dateTime;return(0,t.jsx)("span",{children:new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1,timeZone:"UTC"}).format(new Date(a))})}},2805:function(e,a,n){n.d(a,{d:function(){return i}});n(2791);var t=n.p+"static/media/edit-icon.99f293607452e6df8a5fe12a6b47b2b0.svg",s=n(184),i=function(e){var a=e.onClick;return(0,s.jsx)("img",{style:{cursor:"pointer"},src:t,onClick:a})}},9324:function(e,a,n){n.d(a,{q:function(){return s}});var t=n(184),s=function(e){return null===e.code?(0,t.jsx)("span",{className:"badge badge-pill badge-warning",children:"Null"}):0===e.code?(0,t.jsx)("span",{className:"badge badge-pill badge-danger",children:"Deleted"}):1===e.code?(0,t.jsx)("span",{className:"badge badge-pill badge-success",children:"Active"}):2===e.code?(0,t.jsx)("span",{className:"badge badge-pill badge-warning",children:"Hold"}):void 0}},5789:function(e,a,n){n.r(a),n.d(a,{Cities:function(){return w}});var t=n(9439),s=n(2791),i=n(6403),r=n(2917),l=n(2805),c=n(2806),d=n(7883),o=n(1629),u=n(9324),h=n(3418),m=n(9930),x=n(5705),f=n(8862),j=n(8007),v=n(184),p=(0,j.Ry)({stateId:(0,j.Z_)().required("Select state is required"),name:(0,j.Z_)().required("Name is required")}),g=function(e){var a=e.initialValues,n=e.handleSubmit,i=e.isAdd,r=void 0!==i&&i,l=(0,x.TA)({initialValues:a,onSubmit:n,validationSchema:p}),d=(0,s.useState)([]),o=(0,t.Z)(d,2),u=o[0],h=o[1];return(0,s.useEffect)((function(){c.b.get("/states").then((function(e){var a,n;return null===(a=e.data)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.map((function(e){return{id:e.id,label:"".concat(e.name)}}))})).then((function(e){h(e),a.stateId&&a.stateId&&l.setFieldValue("state",e.filter((function(e){return e.id===a.stateId})))}))}),[]),(0,v.jsxs)("form",{onSubmit:l.handleSubmit,children:[(0,v.jsxs)("div",{className:"row",children:[(0,v.jsx)("aside",{className:"col-md-6",children:(0,v.jsxs)("div",{className:"form-group",children:[(0,v.jsx)("label",{for:"name",children:"Name *"}),(0,v.jsx)("input",{type:"text",id:"name",value:l.values.name,onChange:l.handleChange,onBlur:l.handleBlur,className:"form-control form-control-lg",placeholder:"Enter Name"}),(0,v.jsx)("div",{className:"invalid-feedback",children:l.errors.name})]})}),(0,v.jsx)("aside",{className:"col-md-6",children:(0,v.jsxs)("div",{className:"form-group",children:[(0,v.jsx)("label",{for:"stateId",children:"stateId *"}),(0,v.jsx)(f.pY,{selected:l.values.state,id:"stateId",options:u,onChange:function(e){e&&e.length>0?l.setFieldValue("stateId",e[0].id):l.setFieldValue("stateId","")},placeholder:"Choose a country..."}),(0,v.jsx)("div",{className:"invalid-feedback",children:l.errors.stateId})]})}),r?null:(0,v.jsx)("aside",{className:"col-md-6",children:(0,v.jsxs)("div",{className:"form-group",children:[(0,v.jsx)("label",{htmlFor:"status",children:"status"}),(0,v.jsxs)("select",{id:"status",className:"form-control select2",onChange:l.handleChange,value:l.values.status,children:[(0,v.jsx)("option",{value:"1",children:"Active"}),(0,v.jsx)("option",{value:"2",children:"Hold"}),(0,v.jsx)("option",{value:"0",children:"Deleted"})]})]})}),(0,v.jsx)("aside",{className:"col-md-12",children:(0,v.jsxs)("div",{className:"form-group",children:[(0,v.jsx)("label",{for:"description",children:"description"}),(0,v.jsx)("input",{type:"text",id:"description",value:l.values.description,onChange:l.handleChange,onBlur:l.handleBlur,className:"form-control form-control-lg",placeholder:"Enter description"})]})})]}),(0,v.jsx)("div",{className:"modal-footer d-flex justify-content-end",children:(0,v.jsx)("button",{type:"submit",className:"btn mb-2 btn-primary",children:"Save"})})]})},b=function(e){return c.b.post("/cities",e)},N=function(e){var a=e.handleSuccess,n=e.handleClose,t=(0,h.D)({mutationFn:b});return(0,v.jsxs)(m.Z,{show:!0,onHide:n,size:"lg",children:[(0,v.jsxs)(m.Z.Header,{closeButton:!1,children:[(0,v.jsx)(m.Z.Title,{children:"New City"}),(0,v.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:n,children:(0,v.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),(0,v.jsx)(m.Z.Body,{children:(0,v.jsx)(g,{initialValues:{stateId:"",name:"",description:"",status:""},isAdd:!0,handleSubmit:function(e){t.mutate(e,{onSuccess:a})}})})]})},y=n(1413),C=function(e){return c.b.put("/cities/".concat(e.id),e)},S=function(e){var a=e.handleSuccess,n=e.handleClose,t=e.id,s=(0,r.a)({queryKey:["cities-details",t],queryFn:function(){return function(e){return c.b.get("/cities/".concat(e)).then((function(e){return e.data}))}(t)}}),i=s.data,l=(0,h.D)({mutationFn:C});return(0,v.jsx)(v.Fragment,{children:i&&(0,v.jsxs)(m.Z,{show:!0,onHide:n,size:"lg",children:[(0,v.jsxs)(m.Z.Header,{closeButton:!1,children:[(0,v.jsx)(m.Z.Title,{children:"Edit city"}),(0,v.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:n,children:(0,v.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),(0,v.jsx)(m.Z.Body,{children:(0,v.jsx)(g,{initialValues:i,handleSubmit:function(e){l.mutate((0,y.Z)((0,y.Z)({},e),{},{id:t}),{onSuccess:a})}})})]})})},Z=n(18),k=n(4849),w=function(){var e,a=(0,i.NL)(),n=(0,s.useState)(0),h=(0,t.Z)(n,2),m=h[0],x=h[1],f=(0,s.useState)(!1),j=(0,t.Z)(f,2),p=j[0],g=j[1],b=(0,s.useState)(!1),y=(0,t.Z)(b,2),C=y[0],w=y[1],A=(0,s.useState)(),I=(0,t.Z)(A,2),B=I[0],P=I[1],D=(0,s.useState)(""),E=(0,t.Z)(D,2),T=E[0],q=E[1],F=(0,s.useState)(""),H=(0,t.Z)(F,2),L=H[0],V=H[1],z=(0,s.useState)(""),_=(0,t.Z)(z,2),R=_[0],U=_[1],O=(0,s.useState)(""),K=(0,t.Z)(O,2),$=K[0],Q=K[1],Y=(0,s.useState)(!1),G=(0,t.Z)(Y,2),J=G[0],M=(G[1],(0,r.a)({queryKey:["Cities",m,T,L,R,$],queryFn:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,n=arguments.length>2?arguments[2]:void 0,t=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0;return c.b.get("/cities?pageIndex=".concat(e,"&pageSize=").concat(a,"&search=").concat(n,"&sortBy=").concat(t,"&sortOrder=").concat(s,"&status=").concat(i)).then((function(e){return e.data}))}(m,20,T,L,R,$)},keepPreviousData:!0})),W=M.isLoading,X=M.data,ee=M.refetch,ae=(0,s.useState)([]),ne=(0,t.Z)(ae,2),te=ne[0],se=ne[1];return(0,s.useEffect)((function(){c.b.get("/users?pageIndex=0&pageSize=800").then((function(e){return e.data})).then((function(e){se(e),console.log(e)})).catch((function(e){console.error("Error fetching categories:",e)}))}),[]),(0,v.jsxs)(v.Fragment,{children:[J?(0,v.jsxs)(Z.Z,{variant:"danger",onClose:function(){return J(!1)},children:[(0,v.jsx)(Z.Z.Heading,{children:"Server Error!"}),(0,v.jsx)("p",{children:"Can not user"})]}):null,(0,v.jsx)("div",{className:"row justify-content-center",children:(0,v.jsxs)("div",{className:"col-12",children:[(0,v.jsxs)("div",{className:"row heading-add",children:[(0,v.jsx)("aside",{className:"ml-2 mr-2",children:(0,v.jsx)("h2",{className:"mb-0 page-title",children:"Cities"})}),(0,v.jsx)("form",{className:"form-inline  mr-auto searchform",children:(0,v.jsx)("input",{className:"form-control mr-sm-2 border-0",onChange:function(e){var a=e.target.value;q(a),ee()},type:"text",style:{background:"white"},placeholder:"Search","aria-label":"Search"})}),(0,v.jsx)("aside",{className:"col-sm-2 add-sec",children:(0,v.jsx)("button",{className:"bttn",onClick:function(){return g(!0)},children:"Add"})})]}),(0,v.jsxs)("div",{className:"d-flex flex-wrap",children:[(0,v.jsx)("aside",{className:"col-md-4 mt-2 mt-md-0 mb-2 mb-md-0",children:(0,v.jsxs)("select",{className:"form-control",onChange:function(e){var a=e.target.value;V(a),console.log(a),ee()},style:{background:"white"},"aria-label":"select",children:[(0,v.jsx)("option",{value:"",children:"sortBy"}),(0,v.jsx)("option",{value:"id",children:"ID"})]})}),(0,v.jsx)("aside",{className:"col-md-4 mt-2 mt-md-0 mb-2 mb-md-0",children:(0,v.jsxs)("select",{className:"form-control",onChange:function(e){var a=e.target.value;U(a),console.log(a),ee()},style:{background:"white"},"aria-label":"select",children:[(0,v.jsx)("option",{value:"",children:"sortOrder"}),(0,v.jsx)("option",{value:"ASC",children:"ASC"}),(0,v.jsx)("option",{value:"DESC",children:"DESC"})]})}),(0,v.jsx)("aside",{className:"col-md-4 mt-2 mt-md-0 mb-2 mb-md-0",children:(0,v.jsxs)("select",{className:"form-control",onChange:function(e){var a=e.target.value;Q(a),console.log(a),ee()},style:{background:"white"},"aria-label":"select",children:[(0,v.jsx)("option",{value:"",children:"STATUS"}),(0,v.jsx)("option",{value:"1",children:"Active"}),(0,v.jsx)("option",{value:"2",children:"Hold"}),(0,v.jsx)("option",{value:"0",children:"Deleted"})]})})]}),(0,v.jsx)("div",{className:"row my-2",children:(0,v.jsx)("div",{className:"col-md-12",children:(0,v.jsx)("div",{className:"card shadow",children:(0,v.jsxs)("div",{className:"card-body",children:[(0,v.jsx)("div",{className:"resp-table cities-tb",children:(0,v.jsxs)("table",{className:"table",children:[(0,v.jsx)("thead",{children:(0,v.jsxs)("tr",{children:[(0,v.jsx)("th",{children:"Actions"}),(0,v.jsx)("th",{children:"Status"}),(0,v.jsx)("th",{children:"ID"}),(0,v.jsx)("th",{children:"StateId"}),(0,v.jsx)("th",{children:"Name"}),(0,v.jsx)("th",{children:"Description"}),(0,v.jsx)("th",{children:"CreatedBy"}),(0,v.jsx)("th",{children:"UpdatedBy"}),(0,v.jsx)("th",{children:"CreatedAt"}),(0,v.jsx)("th",{children:"UpdatedAt"})]})}),(0,v.jsx)("tbody",{children:W?(0,v.jsx)("tr",{children:(0,v.jsx)("td",{rowSpan:"10",colSpan:"13",children:(0,v.jsx)("div",{className:"text-center py-5",children:(0,v.jsx)(k.Z,{animation:"border"})})})}):null===X||void 0===X||null===(e=X.data)||void 0===e?void 0:e.map((function(e){return(0,v.jsxs)("tr",{children:[(0,v.jsx)("td",{className:"actions",children:(0,v.jsx)(l.d,{onClick:(a=e.id,function(){P(a),w(!0)})})}),(0,v.jsx)("td",{children:(0,v.jsx)(u.q,{code:e.status})}),(0,v.jsx)("td",{children:e.id}),(0,v.jsx)("td",{children:e.stateId}),(0,v.jsx)("td",{children:T&&e.name.toLowerCase().includes(T.toLowerCase())?(0,v.jsx)("span",{className:"highlighted",children:e.name}):e.name}),(0,v.jsx)("td",{children:e.description||"N/A"}),(0,v.jsx)("td",{children:te&&te.data&&te.data.find((function(a){return a.id===e.createdBy}))?function(){var a=te.data.find((function(a){return a.id===e.createdBy}));return"".concat(a.firstName||"N/A"," ").concat(a.lastName||"N/A")}():e.createdBy}),(0,v.jsx)("td",{children:te&&te.data&&te.data.find((function(a){return a.id===e.updatedBy}))?function(){var a=te.data.find((function(a){return a.id===e.updatedBy}));return"".concat(a.firstName||"N/A"," ").concat(a.lastName||"N/A")}():e.updatedBy}),(0,v.jsx)("td",{children:(0,v.jsx)(o.o,{dateTime:e.createdAt})}),(0,v.jsx)("td",{children:(0,v.jsx)(o.o,{dateTime:e.updatedAt})})]},e.id);var a}))})]})}),W?null:(0,v.jsx)(d.$,{page:m,pageSize:20,data:X,setPage:x})]})})})})]})}),p?(0,v.jsx)(N,{handleSuccess:function(){g(!1),ee()},handleClose:function(){return g(!1)}}):null,C?(0,v.jsx)(S,{id:B,handleSuccess:function(){a.invalidateQueries({queryKey:["Cities-details",B]}),w(!1),ee()},handleClose:function(){return w(!1)}}):null]})}},18:function(e,a,n){n.d(a,{Z:function(){return Z}});var t=n(1413),s=n(5987),i=n(1694),r=n.n(i),l=n(2791),c=n(239),d=n(9007),o=n(162),u=n(7472),h=n(184),m=["className","bsPrefix","as"],x=(0,u.Z)("h4");x.displayName="DivStyledAsH4";var f=l.forwardRef((function(e,a){var n=e.className,i=e.bsPrefix,l=e.as,c=void 0===l?x:l,d=(0,s.Z)(e,m);return i=(0,o.vE)(i,"alert-heading"),(0,h.jsx)(c,(0,t.Z)({ref:a,className:r()(n,i)},d))}));f.displayName="AlertHeading";var j=f,v=n(6445),p=["className","bsPrefix","as"],g=l.forwardRef((function(e,a){var n=e.className,i=e.bsPrefix,l=e.as,c=void 0===l?v.Z:l,d=(0,s.Z)(e,p);return i=(0,o.vE)(i,"alert-link"),(0,h.jsx)(c,(0,t.Z)({ref:a,className:r()(n,i)},d))}));g.displayName="AlertLink";var b=g,N=n(4418),y=n(473),C=["bsPrefix","show","closeLabel","closeVariant","className","children","variant","onClose","dismissible","transition"],S=l.forwardRef((function(e,a){var n=(0,c.Ch)(e,{show:"onClose"}),i=n.bsPrefix,l=n.show,u=void 0===l||l,m=n.closeLabel,x=void 0===m?"Close alert":m,f=n.closeVariant,j=n.className,v=n.children,p=n.variant,g=void 0===p?"primary":p,b=n.onClose,S=n.dismissible,Z=n.transition,k=void 0===Z?N.Z:Z,w=(0,s.Z)(n,C),A=(0,o.vE)(i,"alert"),I=(0,d.Z)((function(e){b&&b(!1,e)})),B=!0===k?N.Z:k,P=(0,h.jsxs)("div",(0,t.Z)((0,t.Z)({role:"alert"},B?void 0:w),{},{ref:a,className:r()(j,A,g&&"".concat(A,"-").concat(g),S&&"".concat(A,"-dismissible")),children:[S&&(0,h.jsx)(y.Z,{onClick:I,"aria-label":x,variant:f}),v]}));return B?(0,h.jsx)(B,(0,t.Z)((0,t.Z)({unmountOnExit:!0},w),{},{ref:void 0,in:u,children:P})):u?P:null}));S.displayName="Alert";var Z=Object.assign(S,{Link:b,Heading:j})}}]);
//# sourceMappingURL=789.c8938ef7.chunk.js.map